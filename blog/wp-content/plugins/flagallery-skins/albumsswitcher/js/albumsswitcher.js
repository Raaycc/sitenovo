function fla_albumsSwitcher_module(){function N(){this._listenerSet={}}function ha(a,b,d){this.type=a;this.params=d;this.target=b}function c(a){return window[a]&&window[a].settings?window[a].settings:null}function G(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveListener",null,b)}catch(d){}return a}function z(a){if("audio/mpeg"==a)return"audio";if("image"==a.split("/")[0])return"image"}function m(){return navigator.maxTouchPoints||
"ontouchstart"in window}function ia(a){for(var b=99999,d=0;d<a.childNodes.length;d++){var e=a.childNodes[d];if(1==e.nodeType&&"SCRIPT"!=e.nodeName)var c=document.defaultView.getComputedStyle(e,null).getPropertyValue("z-index");c>b&&"auto"!=c&&(b=parseInt(c))}return b}function ja(){var a,b=document.createElement("fakeelement"),d={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in d)if(void 0!==b.style[a])return d[a]}
function O(a){var b=0,d=document.createElement("div");d.className="fla_AlbumsSwitcher_Preloader";var e=document.createElement("div");e.style.position="absolute";e.style.width="8px";e.style.height="8px";e.style.margin="-4px";e.style.left="50%";e.style.top="50%";e.style.borderRadius="50%";e.style.backgroundColor=a;d.appendChild(e);e=document.createElement("div");e.className="c-spinner";e.style.position="absolute";e.style.width="36px";e.style.height="36px";e.style.margin="-18px";e.style.left="50%";e.style.top=
"50%";for(var c=0;8>c;c++){var h=document.createElement("div");h.style.position="absolute";h.style.top="50%";h.style.left="50%";h.style.marginTop="-4px";h.style.marginLeft="-4px";h.style.width="8px";h.style.height="8px";h.style.backgroundColor=a;h.style.borderRadius="100%";h.style.transform="rotate("+b+"deg) translate(18px)";b+=45;e.appendChild(h)}d.appendChild(e);return d}function p(a,b,d,e){this.x=a;this.y=b;this.width=d;this.height=e}function l(a,b){this.width=a;this.height=b}function B(a,b){this.x=
a;this.y=b}function A(a,b,d,e,c,h){this.matrix=[[a,b,0],[d,e,0],[c,h,1]];return this}function H(a,b,d,e,c){this._matrix=new A(1,0,0,1,0,0);this._scaleX=a;this._scaleY=b;this._rotate=d;this._translateX=e;this._translateY=c}function x(a,b,d){this.x=a;this.y=b;this.z=d}function ka(a){if({37:1,38:1,39:1,40:1}[a.keyCode])return y(a),!1}function y(a){a=a||window.event;a.preventDefault&&a.preventDefault();a.returnValue=!1}function f(a,b){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,b,c,h){return b+
b+c+c+h+h});return(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?"rgba("+parseInt(a[1],16)+","+parseInt(a[2],16)+","+parseInt(a[3],16)+","+b+")":null}function C(a,b){for(var d in a)b[d]=a[d]}function u(a,b,d,e){var c=a.width;a=a.height;var h=b.width;b=b.height;d?d=Math.max(h/c,b/a):(d=Math.min(h/c,b/a),d=1<d?1:d);var g=Math.round(c*d),D=Math.round(a*d),f=Math.round((h-g)/2),q=Math.round((b-D)/2);return e?new H(d,d,0,(h-c)/2,(b-a)/2):new p(f,q,g,D)}function P(a,b,d){function e(){var k=(new Date).getTime()-
h,f=k/d;1>f?(f=1-c(f),a.style.opacity=String(f),setTimeout(e,Math.min(25,d-k))):(a.style.opacity="0",b&&b())}d||(d=500);var c=Math.sqrt,h=(new Date).getTime();e()}function Q(a,b){function d(){c+=1/60;var k=c/b;1>k?(requestAnimFrame(d),window.scrollTo(0,e+(a-e)*k)):window.scrollTo(0,a)}var e=window.scrollY;a=a||0;var c=0;b=b||0;d()}function I(a,b,d,e){var c=new XMLHttpRequest;c.open("POST",FlaGallery.ajaxurl,!0);c.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");
c.setRequestHeader("X-Requested-With","XMLHttpRequest");c.setRequestHeader("Access-Control-Allow-Headers","Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With");var h="action="+a+(b?"&json="+JSON.stringify(b):"");try{var g=function(a){e&&setTimeout(function(){d[e](a)},500)};c.send(h);d.view&&e&&d.showPreloader&&d.showPreloader()&&d.showPreloader(!0);c.onerror=function(c){1==confirm("Failed to load resource: The network connection was lost. Let's try again?")&&I(a,b,d,e)};c.onreadystatechange=
function(){4==c.readyState&&200==c.status&&g(c.responseText)}}catch(D){console.log(D)}}function R(a,b){function d(a){switch(a.type){case "mouseenter":this.getElementsByTagName("img")[0].style.opacity="0.7";break;case "mouseleave":this.getElementsByTagName("img")[0].style.opacity="1";break;case "mousedown":e.position=e.thumbTranslateX;break;case "mouseup":e.thumbTranslateX==e.position&&e.delegate.thumbHandler({type:"pushIndex",index:e.item.index,animation:!1})}}var e=this;this.delegate=b;this.position=
this.item=void 0;this.appName=b.appName;a&&(this.item=a);this.thumbImg=this.view=void 0;this.thumbSize=new l(0,0);this.thumbTranslateX=0;b=document.createElement("div");b.className="fla_AlbumsSwitcher_SliderThumb";this.item&&(b.setAttribute("gmindex",this.item.index),b.addEventListener("mouseenter",d,!1),b.addEventListener("mouseleave",d,!1),b.addEventListener("mousedown",d,!1),b.addEventListener("mouseup",d,!1));b.style.height=c(this.appName).sliderThumbBarHeight+"px";b.style.width=c(this.appName).sliderThumbBarHeight+
"px";b.style.backgroundColor=f(c(this.appName).sliderThumbBarBgColor,1);a||(b.style.pointerEvents="none",b.style.cursor="default");this.view=b;this.thumbImgSize=new l(c(this.appName).sliderThumbBarHeight,c(this.appName).sliderThumbBarHeight);if(this.item&&this.item.meta){var k=document.createElement("img");a=this.item.itemViewThumbSrc;this.thumbImgSize=this.item.itemViewThumbSize;b=this.thumbImgSize.width/(this.thumbImgSize.height/c(this.appName).sliderThumbBarHeight);this.thumbSize=new l(b,c(this.appName).sliderThumbBarHeight);
this.view.style.width=b+"px";k.setAttribute("src",a);k.style.maxWidth="none";k.style.border="none";k.style.position="absolute";k.style.setProperty("max-width","none","!important");var h=this.item.title;a=u(this.thumbImgSize,this.thumbSize,!1,!1);k.style.left=a.x+"px";k.style.top=a.y+"px";k.style.width=a.width+"px";k.style.height=a.height+"px";k.style.opacity="0";k.addEventListener("load",function(){k.setAttribute("alt",h);setTimeout(function(){k.style.opacity="1"},30)}());this.thumbImg=k;this.view.appendChild(this.thumbImg)}}
function S(a){this.delegate=a;this.appName=this.delegate.appName;this.term=this.delegate.term;this.offsetX=0;this.lastActivIndex=void 0;this.view=document.createElement("div");this.view.className="fla_AlbumsSwitcher_SliderThumbBar";this.view.style.height=c(this.appName).sliderThumbBarHeight+"px";this.view.classList.add("fla_grabbable");this.minThumbWidth=40;this.thumbList=[];this.view.style.backgroundColor=f(c(this.appName).sliderThumbBarBgColor,1);this.isScrolling=!1}function T(a){function b(a){if(e.item&&
(a=e.item,m()&&(this.style.fill=f(c(e.appName).activColor,1),this.style.backgroundColor=f(c(e.appName).reverseColor,.6)),a.sharelink)){switch(this.id){case "infoBoxFacebook":var b="https://www.facebook.com/share.php?u="+a.sharelink;break;case "infoBoxTwitter":b="https://twitter.com/intent/tweet?text="+encodeURI(a.title)+"&url="+a.sharelink;break;case "infoBoxPinterest":b="http://www.pinterest.com/pin/create/button/?url="+a.sharelink+"&media="+a.url+"&description="+encodeURI(a.title);break;case "infoBoxDownload":b=
a.url;a=document.createElement("A");a.href=b;a.download=b.substr(b.lastIndexOf("/")+1);document.body.appendChild(a);a.click();document.body.removeChild(a);return;case "infoBoxReadMore":b=a.link;break;case "infoBoxDiscuss":b=a.sharelink+"/#comments"}window.open(b,"_blank")}}function d(a){if(e.item){var b=e.item;switch(a.type){case "mouseover":this.style.fill=f(c(e.appName).reverseColor,1);this.style.backgroundColor=f(c(b.appName).activColor,1);break;case "mouseout":this.style.fill=f(c(e.appName).activColor,
1),this.style.backgroundColor=f(c(b.appName).reverseColor,1)}}}this.delegate=a;var e=this,k=document.createElement("div");k.className="fla_AlbumsSwitcher_SliderInfoBox";e.appName=a.appName;k.style.backgroundColor=f(c(e.appName).sliderInfoBoxBgColor,c(e.appName).sliderInfoBoxBgAlpha);a=document.createElement("div");a.className="sliderInfoDescriptionWrap";var h=document.createElement("div");h.className="title_SIB";h.style.display="none";h.style.color=f(c(e.appName).sliderInfoBoxTitleTextColor,1);this.title=
h;a.appendChild(h);h=document.createElement("div");h.className="description_SIB";h.style.display="none";h.style.color=f(c(e.appName).sliderInfoBoxTextColor,1);this.description=h;a.appendChild(h);k.appendChild(a);a=document.createElement("div");a.className="sliderInfoSubMenu";h=document.createElement("div");h.style.display="inline-block";h.style.verticalAlign="top";if(c(e.appName).sliderSocialShareEnabled){var g=document.createElement("span");g.className="sliderInfoThumbButton";g.id="infoBoxFacebook";
g.setAttribute("title","Facebook");g.innerHTML='<svg enable-background="new 0 0 32 32" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Flat_copy"><path d="M11.848,32h6.612V15.998h4.411l0.584-5.514H18.46l0.007-2.761c0-1.437,0.137-2.209,2.2-2.209h2.757V0h-4.412   c-5.299,0-7.164,2.675-7.164,7.174v3.311H8.545v5.515h3.303V32z"/></g></svg>';g.style.fill=f(c(e.appName).activColor,1);g.style.backgroundColor=f(c(e.appName).reverseColor,
1);g.addEventListener("click",b);g.addEventListener("mouseover",d);g.addEventListener("mouseout",d);h.appendChild(g);g=document.createElement("span");g.className="sliderInfoThumbButton";g.id="infoBoxTwitter";g.setAttribute("title","Twitter");g.innerHTML='<svg enable-background="new 0 0 32 32" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Flat_copy"><path d="M20.046,3.071c-2.89,1.052-4.716,3.764-4.509,6.732l0.07,1.145l-1.156-0.14c-4.207-0.537-7.884-2.36-11.006-5.423   L1.919,3.866L1.526,4.988c-0.832,2.501-0.3,5.143,1.433,6.92c0.925,0.982,0.716,1.122-0.878,0.537   c-0.555-0.186-1.041-0.327-1.087-0.257c-0.161,0.164,0.393,2.291,0.832,3.133c0.601,1.17,1.826,2.314,3.168,2.993l1.133,0.537   l-1.341,0.023c-1.294,0-1.341,0.023-1.202,0.515c0.462,1.519,2.289,3.133,4.323,3.834l1.433,0.49l-1.248,0.748   c-1.849,1.077-4.023,1.684-6.197,1.729C0.855,26.213,0,26.307,0,26.378c0,0.233,2.821,1.541,4.462,2.057   c4.925,1.519,10.775,0.864,15.168-1.73c3.122-1.847,6.242-5.517,7.7-9.071c0.787-1.892,1.572-5.353,1.572-7.011   c0-1.076,0.07-1.216,1.364-2.501c0.764-0.748,1.48-1.566,1.619-1.8c0.232-0.445,0.207-0.445-0.971-0.047   c-1.965,0.702-2.243,0.608-1.271-0.444c0.716-0.748,1.572-2.104,1.572-2.501c0-0.07-0.346,0.046-0.74,0.257   C30.059,3.819,29.134,4.17,28.44,4.38l-1.248,0.398l-1.133-0.772c-0.625-0.42-1.502-0.888-1.965-1.028   C22.914,2.651,21.11,2.697,20.046,3.071z"/></g></svg>';
g.style.fill=f(c(e.appName).activColor,1);g.style.backgroundColor=f(c(e.appName).reverseColor,1);g.addEventListener("click",b);g.addEventListener("mouseover",d);g.addEventListener("mouseout",d);h.appendChild(g);g=document.createElement("span");g.className="sliderInfoThumbButton";g.id="infoBoxPinterest";g.setAttribute("title","Pinterest");g.innerHTML='<svg enable-background="new 0 0 32 32" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Flat_copy"><path d="M28.386,10.53c0,7.21-4.008,12.598-9.918,12.598c-1.985,0-3.851-1.073-4.49-2.292c0,0-1.068,4.235-1.292,5.053   c-0.796,2.888-3.137,5.777-3.318,6.015c-0.127,0.165-0.407,0.113-0.437-0.105c-0.051-0.368-0.647-4.013,0.055-6.986   c0.352-1.493,2.364-10.016,2.364-10.016s-0.586-1.174-0.586-2.908c0-2.725,1.578-4.758,3.544-4.758   c1.672,0,2.479,1.254,2.479,2.759c0,1.682-1.069,4.194-1.622,6.522c-0.461,1.95,0.978,3.541,2.901,3.541   c3.482,0,5.827-4.474,5.827-9.773c0-4.028-2.712-7.044-7.648-7.044c-5.574,0-9.049,4.158-9.049,8.803   c0,1.602,0.473,2.732,1.213,3.605c0.339,0.402,0.387,0.563,0.264,1.025c-0.09,0.339-0.29,1.152-0.376,1.475   c-0.122,0.466-0.499,0.632-0.92,0.46c-2.567-1.048-3.764-3.861-3.764-7.022C3.614,6.261,8.017,0,16.75,0   C23.769,0,28.386,5.077,28.386,10.53z"/></g></svg>';
g.style.fill=f(c(e.appName).activColor,1);g.style.backgroundColor=f(c(e.appName).reverseColor,1);g.addEventListener("click",b);g.addEventListener("mouseover",d);g.addEventListener("mouseout",d);h.appendChild(g)}c(e.appName).sliderItemDownload&&(g=document.createElement("span"),g.className="sliderInfoThumbButton",g.id="infoBoxDownload",g.setAttribute("title","Download"),g.innerHTML='<svg version="1.1" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="info"/><g id="icons"><g id="save"><path d="M11.2,16.6c0.4,0.5,1.2,0.5,1.6,0l6-6.3C19.3,9.8,18.8,9,18,9h-4c0,0,0.2-4.6,0-7c-0.1-1.1-0.9-2-2-2c-1.1,0-1.9,0.9-2,2    c-0.2,2.3,0,7,0,7H6c-0.8,0-1.3,0.8-0.8,1.4L11.2,16.6z"/><path d="M19,19H5c-1.1,0-2,0.9-2,2v0c0,0.6,0.4,1,1,1h16c0.6,0,1-0.4,1-1v0C21,19.9,20.1,19,19,19z"/></g></g></svg>',
g.style.fill=f(c(e.appName).activColor,1),g.style.backgroundColor=f(c(e.appName).reverseColor,1),g.addEventListener("click",b),g.addEventListener("mouseover",d),g.addEventListener("mouseout",d),h.appendChild(g));c(e.appName).sliderItemDiscuss&&(g=document.createElement("span"),g.className="sliderInfoThumbButton",g.id="infoBoxDiscuss",g.setAttribute("title","Discuss"),g.innerHTML='<svg style="enable-background:new 0 0 24 24;" version="1.1" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="info"/><g id="icons"><path d="M20,1H4C1.8,1,0,2.8,0,5v10c0,2.2,1.8,4,4,4v3c0,0.9,1.1,1.3,1.7,0.7L9.4,19H20c2.2,0,4-1.8,4-4V5   C24,2.8,22.2,1,20,1z M14,13H8c-0.6,0-1-0.4-1-1c0-0.6,0.4-1,1-1h6c0.6,0,1,0.4,1,1C15,12.6,14.6,13,14,13z M16,9H8   C7.4,9,7,8.6,7,8c0-0.6,0.4-1,1-1h8c0.6,0,1,0.4,1,1C17,8.6,16.6,9,16,9z" id="message"/></g></svg>',
g.style.fill=f(c(e.appName).activColor,1),g.style.backgroundColor=f(c(e.appName).reverseColor,1),g.addEventListener("click",b),g.addEventListener("mouseover",d),g.addEventListener("mouseout",d),h.appendChild(g));g=document.createElement("span");g.className="sliderInfoThumbButton";g.setAttribute("title","Read more");g.id="infoBoxReadMore";g.innerHTML='<svg version="1.1" viewBox="0 0 80 80" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M29.298,63.471l-4.048,4.02c-3.509,3.478-9.216,3.481-12.723,0c-1.686-1.673-2.612-3.895-2.612-6.257   s0.927-4.585,2.611-6.258l14.9-14.783c3.088-3.062,8.897-7.571,13.131-3.372c1.943,1.93,5.081,1.917,7.01-0.025   c1.93-1.942,1.918-5.081-0.025-7.009c-7.197-7.142-17.834-5.822-27.098,3.37L5.543,47.941C1.968,51.49,0,56.21,0,61.234   s1.968,9.743,5.544,13.292C9.223,78.176,14.054,80,18.887,80c4.834,0,9.667-1.824,13.348-5.476l4.051-4.021   c1.942-1.928,1.953-5.066,0.023-7.009C34.382,61.553,31.241,61.542,29.298,63.471z M74.454,6.044   c-7.73-7.67-18.538-8.086-25.694-0.986l-5.046,5.009c-1.943,1.929-1.955,5.066-0.025,7.009c1.93,1.943,5.068,1.954,7.011,0.025   l5.044-5.006c3.707-3.681,8.561-2.155,11.727,0.986c1.688,1.673,2.615,3.896,2.615,6.258c0,2.363-0.928,4.586-2.613,6.259   l-15.897,15.77c-7.269,7.212-10.679,3.827-12.134,2.383c-1.943-1.929-5.08-1.917-7.01,0.025c-1.93,1.942-1.918,5.081,0.025,7.009   c3.337,3.312,7.146,4.954,11.139,4.954c4.889,0,10.053-2.462,14.963-7.337l15.897-15.77C78.03,29.083,80,24.362,80,19.338   C80,14.316,78.03,9.595,74.454,6.044z"></path></g></svg>';
g.style.fill=f(c(e.appName).activColor,1);g.style.backgroundColor=f(c(e.appName).reverseColor,1);g.addEventListener("click",b);g.addEventListener("mouseover",d);g.addEventListener("mouseout",d);g.style.display="none";this.link=g;h.appendChild(g);a.appendChild(h);this.subMenu=a;k.appendChild(this.subMenu);this.view=k}function U(a,b){this.delegate=a;this.item=b;this.appName=a.appName;this._translate3d=new x(0,0,0);this._position=new B(0,0);this._size=new l(0,0);a=document.createElement("div");a.style.position=
"absolute";a.style.overflow="hidden";this.view=a;this.view.style.visibility="hidden";this.displayed=this.itemLoaded=this.needDisplay=!1;this.type=z(this.item.mime_type);this.imageFrame=void 0;this.audioRedy=!1;"audio"==this.type&&(this.playerControls=this.createAudioPlaterControls())}function V(a,b,d){var e=this;this.delegate=a;this.term=b;this.startIndex=d;this.appName=this.delegate.appName;this.id=b.term_id+"_"+this.appName+"sliderView_";this.scrollViewWidth=0;this.pages=[];this.currentPageIndex=
void 0;this.preparationPage=-1;this.visibleBounds=new p(0,0,0,0);this.showSubmenu=!0;this.isShowInfoBlock=!1;this.ibutton=this.infoBox=void 0;this.startPositionY=window.pageYOffset||document.documentElement.scrollTop;this.windowScrollY=window.scrollY;this.bodyElements=[];this.view=document.createElement("div");this.view.className="fla_AlbumsSwitcher_Slider";this.view.id=this.id+"main";this.resizeDelay=void 0;a=document.createElement("div");a.className="fla_AlbumSwitcherSliderBg";a.style.zIndex=0;
a.style.backgroundColor=f(c(this.appName).sliderBgColor,1);a.style.opacity="0";this.background=a;b=document.createElement("div");b.className="fla_AlbumSwitcherSliderContainer";this.scrollView=b;this.scrollView.style.transform=new x(0,0,0);(b=ja())&&this.scrollView.addEventListener(b,function(){e.scrollViewTransitionComplete()});if(!m()||r)b=document.createElement("div"),b.setAttribute("title","Close (Esc)"),b.className="fla_AlbumSwitcherCloseButton",b.innerHTML='<svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M437.5,386.6L306.9,256l130.6-130.6c14.1-14.1,14.1-36.8,0-50.9c-14.1-14.1-36.8-14.1-50.9,0L256,205.1L125.4,74.5  c-14.1-14.1-36.8-14.1-50.9,0c-14.1,14.1-14.1,36.8,0,50.9L205.1,256L74.5,386.6c-14.1,14.1-14.1,36.8,0,50.9  c14.1,14.1,36.8,14.1,50.9,0L256,306.9l130.6,130.6c14.1,14.1,36.8,14.1,50.9,0C451.5,423.4,451.5,400.6,437.5,386.6z"/></svg>',
this.closeButton=b,b=this.closeButton.childNodes[0],b.style.width="100%",b.style.height="100%",b.style.fill=f(c(this.appName).activColor,1),this.closeButton.addEventListener("mouseenter",function(){e.closeButton.childNodes[0].style.fill=f(c(e.appName).hoverColor,1)},!1),this.closeButton.addEventListener("mouseleave",function(){e.closeButton.childNodes[0].style.fill=f(c(e.appName).activColor,1)},!1),this.closeButton.addEventListener("click",function(){e.prepareToRemove()}),b=document.createElement("div"),
b.id=this.id+"_popUp_nextButton",b.setAttribute("title","Next (Right arrow key)"),b.className="fla_AlbumSwitcherPrevNextButton",b.style.opacity="0.7",b.style.position="absolute",b.style.width="60px",b.style.height="80px",b.style.paddingRight="10px",b.style.paddingLeft="16px",b.style.top="50%",b.style.right="10px",b.style.transform="translateY(-50%)",b.style.zIndex="1147",b.style.overflow="hidden",b.style.cursor="pointer",b.style.display="block",b.innerHTML='<svg version="1.1" viewBox="0 0 13.725 22.062" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M13.125,9.442L4.29,0.607c-0.811-0.811-2.137-0.811-2.945,0L0.607,1.344c-0.81,0.81-0.81,2.136,0,2.944l6.742,6.742  l-6.742,6.742c-0.81,0.81-0.81,2.136,0,2.943l0.737,0.737c0.81,0.811,2.136,0.811,2.945,0l8.835-8.836  c0.435-0.434,0.628-1.017,0.597-1.588C13.753,10.459,13.56,9.876,13.125,9.442z"/></svg>',
this.nextButton=b,b=e.nextButton.childNodes[0],b.style.width="100%",b.style.height="100%",b.style.fill=f(c(this.appName).activColor,1),this.nextButton.addEventListener("mouseenter",function(a){e.nextButton.childNodes[0].style.fill=f(c(e.appName).hoverColor,1)},!1),this.nextButton.addEventListener("mouseleave",function(a){e.nextButton.childNodes[0].style.fill=f(c(e.appName).activColor,1)},!1),this.nextButton.addEventListener("click",function(a){e.gotoNextPage()}),b=document.createElement("div"),b.id=
this.id+"_popUp_prevButton",b.setAttribute("title","Previous (Left arrow key)"),b.className="fla_AlbumSwitcherPrevNextButton",b.style.opacity="0.7",b.style.position="absolute",b.style.width="60px",b.style.height="80px",b.style.paddingRight="16px",b.style.paddingLeft="10px",b.style.top="50%",b.style.left="10px",b.style.transform="translateY(-50%)",b.style.zIndex="1147",b.style.overflow="hidden",b.style.cursor="pointer",b.style.display="block",b.innerHTML='<svg version="1.1" viewBox="0 0 13.725 22.062" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M6.375,11.03l6.742-6.742c0.81-0.809,0.81-2.135,0-2.944L12.38,0.607c-0.81-0.811-2.135-0.811-2.945,0L0.6,9.442  c-0.435,0.434-0.628,1.017-0.597,1.589c-0.031,0.571,0.162,1.154,0.597,1.588l8.835,8.834c0.81,0.811,2.135,0.811,2.945,0  l0.737-0.737c0.81-0.808,0.81-2.134,0-2.943L6.375,11.03z"/></svg>',
this.prevButton=b,b=e.prevButton.childNodes[0],b.style.width="100%",b.style.height="100%",b.style.fill=f(c(this.appName).activColor,1),this.prevButton.addEventListener("mouseenter",function(a){e.prevButton.childNodes[0].style.fill=f(c(e.appName).hoverColor,1)},!1),this.prevButton.addEventListener("mouseleave",function(a){e.prevButton.childNodes[0].style.fill=f(c(e.appName).activColor,1)},!1),this.prevButton.addEventListener("click",function(a){e.gotoPrevPage()}),b=document.createElement("div"),b.className=
"fla_AlbumSwitcherSliderCounter",this.counter=b,this.counter.style.color=f(c(this.appName).activColor,1),c(this.appName).sliderThumbBarEnable&&(this.thumbsBar=new S(this));this.view.appendChild(a);this.view.appendChild(this.scrollView);if(!m()||r)this.view.appendChild(this.closeButton),this.view.appendChild(this.nextButton),this.view.appendChild(this.prevButton),this.view.appendChild(this.counter);if(1==c(this.appName).sliderInfoEnable){a=function(a){switch(a.type){case "mouseenter":this.style.fill=
f(c(e.appName).reverseColor,1);this.style.backgroundColor=f(c(e.appName).activColor,1);break;case "mouseleave":e.isShowInfoBlock||(this.style.fill=f(c(e.appName).activColor,1),this.style.backgroundColor=f(c(e.appName).reverseColor,.6))}};b=document.createElement("div");b.className="fla_AlbumSwitcherSliderSubmenu";d=document.createElement("div");d.style.display="inline-block";d.style.verticalAlign="top";var k=document.createElement("span");k.className="fla_sliderThumbButton";k.style.transform="translateX(-50%)";
k.innerHTML='<svg version="1.1" viewBox="0 0 46 100" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M35.162,0c6.696,0,10.043,4.567,10.043,9.789c0,6.522-5.814,12.555-13.391,12.555c-6.344,0-10.045-3.752-9.869-9.947   C21.945,7.176,26.35,0,35.162,0z M14.543,100c-5.287,0-9.164-3.262-5.463-17.615l6.07-25.457c1.057-4.077,1.23-5.707,0-5.707   c-1.588,0-8.451,2.816-12.51,5.59L0,52.406C12.863,41.48,27.662,35.072,34.004,35.072c5.285,0,6.168,6.361,3.525,16.148   L30.58,77.98c-1.234,4.729-0.703,6.359,0.527,6.359c1.586,0,6.787-1.963,11.896-6.041L46,82.377C33.488,95.1,19.83,100,14.543,100z   "/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>';
k.style.fill=f(c(e.appName).activColor,1);k.style.backgroundColor=f(c(e.appName).reverseColor,.6);k.addEventListener("click",function(){e.showInfo(!e.isShowInfoBlock)});k.addEventListener("mouseenter",a);k.addEventListener("mouseleave",a);this.ibutton=k;d.appendChild(k);b.appendChild(d);(this.subMenu=b)&&this.view.appendChild(this.subMenu)}m()&&!r||!this.thumbsBar||(this.thumbsBar.view.style.transform="translateY(100%)",this.thumbsBar.view.style.transition="transform .7s",this.view.appendChild(this.thumbsBar.view));
this.addToStage()}function W(a){var b=this;this.delegate=a;this.appName=a.appName;this.item=void 0;this.view=document.createElement("div");this.view.className=r?"fla_AlbumsSwitcher_ScrollBarItem":"fla_AlbumsSwitcher_ScrollBarItem_TD";this.img=new Image;this.img.style.maxWidth="none";this.img.style.border="0";this.img.style.setProperty("max-width","none","!important");this.img.style.maxHeight="100%";this.img.style.width="auto";this.img.style.display="none";this.img.onload=function(){b.img.style.display=
"block";J&&(this.style.width=b.view.clientHeight/this.naturalHeight*this.naturalWidth+"px");b.delegate.itemsLoaderHandler(b.view.clientWidth)};this.view.appendChild(this.img);this.imgSRC=void 0;this.hover=document.createElement("div");this.hover.className="fla_AlbumsSwitcher_ScrollBarItemHover";this.hover.style.backgroundColor=f(c(this.appName).activColor,1);this.view.appendChild(this.hover);a=document.createElement("div");a.className="fla_AlbumsSwitcher_TitleHolder";this.hover.appendChild(a);if(c(this.appName).termCollectionSwitcherThumbsTitleShow){var d=
document.createElement("div");d.className="fla_AlbumsSwitcher_ScrollBarItemTitle";d.style.fontSize=c(this.appName).termCollectionSwitcherThumbsTitleFontSize+"px";d.style.color=f(c(this.appName).reverseColor,1);a.appendChild(d);this.title=d}this.link=document.createElement("div");this.link.className="fla_AlbumsSwitcher_ScrollBarItemLink";this.link.innerHTML='<svg version="1.1" viewBox="0 0 139 139" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M127.558,111.961L100.249,84.65c4.64-7.387,7.333-16.118,7.333-25.488c0-26.509-21.49-47.996-47.998-47.996  c-26.508,0-47.996,21.487-47.996,47.996c0,26.51,21.487,47.995,47.996,47.995c10.197,0,19.642-3.188,27.414-8.605l26.984,26.986  c1.875,1.873,4.333,2.806,6.788,2.806c2.458,0,4.913-0.933,6.791-2.806C131.308,121.787,131.308,115.711,127.558,111.961z   M59.584,91.607c-17.917,0-32.443-14.525-32.443-32.443S41.667,26.72,59.584,26.72c17.918,0,32.443,14.526,32.443,32.444  S77.502,91.607,59.584,91.607z"/></svg>';
this.link.style.fill=f(c(this.appName).activColor,1);this.link.style.backgroundColor=f(c(this.appName).reverseColor,1);a.appendChild(this.link)}function X(a){this.delegate=a;this.appName=a.appName;this.view=document.createElement("div");this.view.className="fla_AlbumsSwitcher_TermScrollBarWrap";this.view.style.height=c(this.appName).termCollectionSwitcherThumbsHeight+"px";this.view.style.borderColor=f(c(this.appName).activColor,1);this.scrollBarControll=document.createElement("div");this.scrollBarControll.className=
"fla_AlbumsSwitcher_ScrollBar";this.scrollBarControll.style.height="10px";this.scrollBarControll.style.overflow="hidden";this.scrollTrack=document.createElement("div");this.scrollTrack.style.position="absolute";this.scrollTrack.style.width="100%";this.scrollTrack.style.height="10px";this.scrollTrack.style.backgroundColor=f(c(this.appName).collectionThumbsScrollBarCollor,.4);this.scrollBarControll.appendChild(this.scrollTrack);this.scrollBarMatrix=new H(1,1,0,0,0);this.scrollBar=document.createElement("div");
this.scrollBar.style.top="0px";this.scrollBar.style.left="0px";this.scrollBar.style.width="100%";this.scrollBar.style.height="10px";this.scrollBar.style.transformOrigin="left top";this.scrollBar.style.backgroundColor=f(c(this.appName).collectionThumbsScrollBarCollor,1);this.scrollBar.style.transform=this.scrollBarMatrix.toString();this.scrollBarControll.appendChild(this.scrollBar);this.view.appendChild(this.scrollBarControll);this.scrollView=document.createElement("div");this.scrollView.className=
"fla_AlbumsSwitcher_ScrollView";this.scrollView.style.height=c(this.appName).termCollectionSwitcherThumbsHeight-10+"px";this.scrollView.style.width="0px";this.view.appendChild(this.scrollView);this.thumbsList=[];this._scrollWidth=0;this.dragging=this.viewCompleted=!1;this.scrollViewTranslateX=0;this.activAudioIndex=this.startDragScrollBarHandler=this.startDragHandler=this.scrollTrackHandler=void 0}function Y(a){this.appName=a.appName;this.delegate=a;this.pageHeight=c(this.appName).termCollectionViewHeight-
10;this.termId=this.term=void 0;this.view=document.createElement("div");this.view.className="fla_AlbumsSwitcher_TermPageView";this.view.style.backgroundColor=f(c(this.delegate.appName).collectionBgColor,c(this.delegate.appName).collectionBgOpacity);c(this.delegate.appName).collectionTitleShow&&(a=document.createElement("div"),a.className="fla_AlbumsSwitcher_TermPageViewTitle",a.style.color=f(c(this.appName).collectionTitleTextColor,1),a.style.fontSize=c(this.appName).collectiontTitleFontSize+"px",
a.style.lineHeight=c(this.appName).collectiontTitleFontSize+"px",a.style.backgroundColor=f(c(this.appName).collectionTitleBgColor,c(this.delegate.appName).collectionTitleBgOpacity),this._title=a,this.view.appendChild(a));a=document.createElement("div");a.className="fla_AlbumsSwitcher_TermPageViewDetail";a.style.color=f(c(this.appName).collectiontDescriptionTextColor,1);a.style.fontSize=c(this.appName).collectiontDescriptionTextFontSize+"px";this._detail=a;this.view.appendChild(a);this._detailHTML=
void 0;this.shareEnable=!1;c(this.appName).collectionShareButtonEnable&&(a=document.createElement("div"),a.className="fla_AlbumsSwitcher_TermPageViewShare",this._shareArea=a,this.view.appendChild(a));this.thumbsScrollBar=new X(this);this._thumbArea=this.thumbsScrollBar.view;this.view.appendChild(this._thumbArea)}function Z(a){var b=this;this.delegate=a;this._position=void 0;this.newLine=!0;this.view=document.createElement("div");this.view.style.display="none";this.view.className="fla_AlbumsSwitcher_TermView";
this.view.id="termSwitcher_"+this.delegate.appName;this.view.style.height=c(this.delegate.appName).termCollectionViewHeight+"px";this.irc=document.createElement("div");this.irc.className="fla_AlbumsSwitcher_TermView_irc";a=document.createElement("div");a.style.transform="rotate(45deg)";a.style.width="15px";a.style.height="15px";a.style.transformOrigin="100% 50%";a.style.backgroundColor=f(c(this.delegate.appName).activColor,1);a.style.top="8px";a.style.position="absolute";this.irc.appendChild(a);this.pages=
[];this.audio=void 0;this.audioStatus={};document.getElementById("flaAudioPlayer")&&(a=function(a){b.pages[1]&&b.pages[1].audioPlayerEventHandler(a)},this.audio=document.getElementById("flaAudioPlayer"),this.audio.addEventListener("ended",a,!1),this.audio.addEventListener("pause",a,!1),this.audio.addEventListener("play",a,!1),this.audio.addEventListener("durationchange",a,!1));E.addGMEventListener(F.termColectionLoadingComplete,this,"colectionCompleteHandler");a=-100;for(var d=0;3>d;d++){var e=new Y(this.delegate);
this.view.appendChild(e.view);e.view.style.top="9px";e.view.style.height=c(this.delegate.appName).termCollectionViewHeight-9+"px";e.view.style.borderColor=f(c(this.delegate.appName).activColor,1);e.view.style.transition="0s";e.view.style.transform="translateX("+a+"%)";a+=100;this.pages.push(e)}this.view.appendChild(this.irc)}function aa(a){var b=this;this.termData=a;this._frame=new p(0,0,0,0);this.view=document.createElement("div");this.view.className=m()?"fla_AlbumsSwitcher_Cover_TD":"fla_AlbumsSwitcher_Cover";
this.view.style.position="absolute";this.view.style.opacity="0";this.view.style.left="0px";this.view.style.top="0px";this.view.style.overflow="hidden";this.view.style.transition="0s";this._transformAnimation=!1;this.title=this.coverImgSize=this.coverSrc=this.thumbImg=void 0;"gmedia_tag"!=this.termData.taxonomy&&this.termData.meta&&this.termData.meta._cover&&(a=this.termData.meta.cover,this.coverSrc=[],this.coverSrc[0]=a.itemViewThumbSrc,this.coverSrc[1]=a.itemViewSrc,this.thumbImg=new Image,this.thumbImg.style.maxWidth=
"none",this.thumbImg.style.maxHeight="none",this.thumbImg.style.border="none",this.thumbImg.style.position="absolute",this.thumbImg.style.setProperty("max-width","none","!important"),this.thumbImg.style.setProperty("max-height","none","!important"),this.thumbImg.style.opacity=0,this.thumbImg.onload=function(a){b.thumbLoad(a)},this.view.appendChild(this.thumbImg));a=document.createElement("div");a.className="fla_AlbumsSwitcher_CoverHA";a.style.background=f(c(this.termData.appName).hoverColor,.65);
this.view.appendChild(a);a=document.createElement("div");a.className="fla_AlbumsSwitcher_CoverTitleHolder";this.view.appendChild(a);var d=this.termData.name,e=document.createElement("div");e.className="coverTitle";e.style.fontSize=c(this.termData.appName).coverTitleFontSize;e.style.lineHeight=c(this.termData.appName).coverTitleFontSize;e.style.color=f(c(this.termData.appName).coverTitleTextColor,1);e.style.backgroundColor=f(c(this.termData.appName).coverTitleBgColor,c(this.termData.appName).coverTitleBgAlpha);
e.innerHTML=d;this.title=e;a.appendChild(e);d=document.createElement("div");d.className="fla_AlbumSwitcher_CoverSpace";a.appendChild(d);d=document.createElement("div");d.className="coverCounter";d.style.backgroundColor=f(c(this.termData.appName).coverTitleBgColor,c(this.termData.appName).coverTitleBgAlpha);d.style.color=f(c(this.termData.appName).coverTitleTextColor,1);d.appendChild(document.createTextNode(this.termData.count));a.appendChild(d)}function ba(a,b,d,e,c,h,g){this.itemsArr=a;this.inBoxSize=
b;this.columns=d;this.minItemWidth=e;this.itemRation=c;this.spaceItem=h;this.spaceViewHeight=g;this._activeIndex=void 0;this._animation=!1}function ca(a){this.delegate=a;this.appName=a.appName;this.id=a.appName+"_module_view";this.view=document.createElement("div");this.view.className="fla_AlbumsSwitcher_Collection";this.view.id=this.id;this.activTermCover=this.collection=this.grid=void 0;this.appDiv=a.appDiv;m()&&window.addEventListener("touchmove",function(){},!1);E.addGMEventListener(F.startLoading,
this,"loadingStatusHandler");E.addGMEventListener(F.termsLoadingComplete,this,"appHandler");this.viewWidth=0;this.gmediaTemplate=void 0;a=document.getElementsByTagName("body")[0];for(var b=0;b<a.classList.length;b++)"gmedia-template"==a.classList[b]&&(this.gmediaTemplate=!0,b=a.classList.length)}function K(a,b,d){C(a,this);this.appName=d;this.idPrefix=void 0;b&&(this.collectionName=b,this.idPrefix=d+"_"+b+"_");this.albums=[];this.categories=[];this.tags=[];this.ID=this.pid;this.comment_status="close";
this.title=this.alttext;this.user=void 0}function da(a,b,d){C(a,this);this.listIndex=void 0;this.appName=d;this.taxonomy="albums";a="collection_"+this.term_id+"_";var e=this.taxonomy;this.collectionName=a+("gmedia_album"==e?"albums":"gmedia_category"==e?"categories":"gmedia_tag"==e?"tags":void 0);this.itemsList=[];if(this.data&&0<this.data.length)for(a=0;a<this.data.length;a++)this.data[a].galleryURL=this.gallery.path,e=new K(this.data[a],b,d),e.index=a,this.itemsList.push(e);this.user=void 0;this.meta||
(b=new ea({},this.collectionName,this.appName),b._cover=this.itemsList[0]?this.itemsList[0]:void 0,this.meta=b)}function ea(a,b,d){C(a,this);this.collectionName=b;this.appName=d;this._cover&&(this._cover=new K(a._cover,this.collectionName,this.appName))}function fa(a,b,d){C(a,this);if(FlaGallery){this.appName=b;a=this.settings;c(this.appName).appApi=this.appApi;var e=this;this.appDiv=d;this.audioPlayer=void 0;a&&(c(this.appName).activColor=a.activColor,c(this.appName).reverseColor=a.reverseColor,
c(this.appName).hoverColor=a.hoverColor,c(this.appName).columns=parseInt(a.columns),c(this.appName).spaceX=c(this.appName).spaceY=parseInt(a.spaceX),c(this.appName).thumbRecomendedSize=parseInt(a.thumbRecomendedSize),c(this.appName).coverThumbRatio=parseFloat(a.coverThumbRatio),c(this.appName).coverTitleFontSize=parseInt(a.coverTitleFontSize),c(this.appName).coverTitleBgColor=a.coverTitleBgColor,c(this.appName).coverTitleBgAlpha=parseInt(a.coverTitleBgAlpha)/100,c(this.appName).coverTitleTextColor=
a.coverTitleTextColor,c(this.appName).termCollectionViewHeight=parseInt(a.termCollectionViewHeight),c(this.appName).collectionBgColor=a.collectionBgColor,c(this.appName).collectionBgOpacity=parseInt(a.collectionBgOpacity)/100,c(this.appName).collectionTitleShow="1"==a.collectionTitleShow?!0:!1,c(this.appName).collectionTitleBgColor=a.collectionTitleBgColor,c(this.appName).collectionTitleBgOpacity=parseInt(a.collectionTitleBgOpacity)/100,c(this.appName).collectionTitleTextColor=a.collectionTitleTextColor,
c(this.appName).collectiontTitleFontSize=parseInt(a.collectiontTitleFontSize),c(this.appName).collectionDescriptionShow="1"==a.collectionDescriptionShow?!0:!1,c(this.appName).collectiontDescriptionTextFontSize=parseInt(a.collectiontDescriptionTextFontSize),c(this.appName).collectiontDescriptionTextColor=a.collectiontDescriptionTextColor,c(this.appName).collectionShareButtonEnable="1"==a.collectionShareButtonEnable?!0:!1,c(this.appName).collectionShareButtonsCollor=a.collectionShareButtonsCollor,c(this.appName).termCollectionSwitcherThumbsTitleShow=
"1"==a.termCollectionSwitcherThumbsTitleShow?!0:!1,c(this.appName).termCollectionSwitcherThumbsTitleFontSize=parseInt(a.termCollectionSwitcherThumbsTitleFontSize),c(this.appName).termCollectionSwitcherThumbsHeight=parseInt(a.termCollectionSwitcherThumbsHeight),c(this.appName).collectionThumbsScrollBarCollor=a.collectionThumbsScrollBarCollor,c(this.appName).sliderDescriptionMode="1"==a.sliderDescriptionMode?!0:!1,c(this.appName).sliderThumbBarEnable="1"==a.sliderThumbBarEnable?!0:!1,c(this.appName).sliderThumbBarBgColor=
a.sliderThumbBarBgColor,c(this.appName).sliderThumbBarHeight=parseInt(a.sliderThumbBarHeight),c(this.appName).sliderBgColor=a.sliderBgColor,c(this.appName).sliderInfoEnable="1"==a.sliderInfoEnable?!0:!1,c(this.appName).sliderInfoBoxBgColor=a.sliderInfoBoxBgColor,c(this.appName).sliderInfoBoxBgAlpha=parseInt(a.sliderInfoBoxBgAlpha)/100,c(this.appName).sliderInfoBoxTextColor=a.sliderInfoBoxTextColor,c(this.appName).sliderInfoBoxTitleTextColor=a.sliderInfoBoxTitleTextColor,c(this.appName).sliderItemDownload=
"1"==a.sliderItemDownload?!0:!1,c(this.appName).sliderItemDiscuss="1"==a.sliderItemDiscuss?!0:!1,c(this.appName).sliderSocialShareEnabled="1"==a.sliderSocialShareEnabled?!0:!1,c(this.appName).pagination=!1,c(this.appName).pagination_button_text="Load more",c(this.appName).imagesPperPage=10,c(this.appName).customCSS=a.customCSS);a={};a.key=FlaGallery.license;a.key&&""!=a.key&&FlaGallery.pack&&""!=FlaGallery.pack&&"GRANDPackPlus"==FlaGallery.pack?c(this.appName).key=!0:(c(this.appName).tv=document.createElement("div"),
c(this.appName).tv.style.position="absolute",c(this.appName).tv.style.height="24px",c(this.appName).tv.innerHTML='',
c(this.appName).key=!1);c(b)&&(this.mainViewController=new ca(this),this.appDiv.appendChild(this.mainViewController.view),this.appDivWidth=this.appDiv.clientWidth,this.slider=void 0,this.viewsSet={},this.likesSet={},this.lastViewedItemIndex=this.sliderTerm=void 0,window.addEventListener("resize",function(){e.windowResizeHandler(e)}),this.terms={},this.collections={},this.collectionIndex=0,this.cureantCollection=void 0,this.termsLoaded(),this.createAudioPlayer())}}N.prototype={addGMEventListener:function(a,
b,d){this._listenerSet[a]||(this._listenerSet[a]=[]);this._listenerSet[a].push({listener:b,handler:d})},dispatchGMEvent:function(a){if(this._listenerSet[a.type])for(var b=this._listenerSet[a.type],d=0;d<b.length;d++){var e=b[d];if(e&&e.listener&&"function"==typeof e.listener[e.handler])e.listener[e.handler](a)}}};var E=new N,F={startLoading:"START LOADING",termsLoadingComplete:"TERMS LOADING COMPLETE",termColectionLoadingComplete:"TERM COLLECTION LOADING COMPLETE"},r=!1,J=!!document.documentMode,
L=function(){var a=document.createElement("div");a.style.visibility="hidden";a.style.width="100px";a.style.msOverflowStyle="scrollbar";document.body.appendChild(a);var b=a.offsetWidth;a.style.overflow="scroll";var d=document.createElement("div");d.style.width="100%";a.appendChild(d);d=d.offsetWidth;a.parentNode.removeChild(a);return b-d},M=function(){if("number"===typeof window.innerWidth)return window.innerWidth>document.documentElement.clientWidth;var a=document.documentElement||document.body;if("undefined"!==
typeof a.currentStyle)var b=a.currentStyle.overflow;b=b||window.getComputedStyle(a,"").overflow;if("undefined"!==typeof a.currentStyle)var d=a.currentStyle.overflowY;d=d||window.getComputedStyle(a,"").overflowY;a=a.scrollHeight>a.clientHeight;var e=/^(visible|auto)$/.test(b)||/^(visible|auto)$/.test(d);return a&&e||"scroll"===b||"scroll"===d};A.prototype={toString:function(){return"matrix("+this.matrix[0][0].toFixed(3)+","+this.matrix[0][1].toFixed(3)+","+this.matrix[1][0].toFixed(3)+","+this.matrix[1][1].toFixed(3)+
","+this.matrix[2][0].toFixed(3)+","+this.matrix[2][1].toFixed(3)+")"},multi:function(a){a=a.matrix;if(this.matrix.length==a[0].length){for(var b=new A(0,0,0,0,0,0),d=this.matrix.length,e=0;e<d;e++)for(var c=a[e].length,h=0;h<c;h++){for(var g=0,f=0;f<d;f++)g+=a[e][f]*this.matrix[f][h];b.matrix[e][h]=g}this.matrix=b.matrix;return this}}};H.prototype={toString:function(){return this.matrix.toString()},set scaleX(a){this._scaleX=a},set scaleY(a){this._scaleY=a},set rotate(a){this._rotate=a},set translateX(a){this._translateX=
a},set translateY(a){this._translateY=a},get matrix(){var a=new A(1,0,0,1,this._translateX,this._translateY),b=new A(this._scaleX,0,0,this._scaleY,0,0),d=new A(Math.cos(this._rotate*Math.PI/180),Math.sin(this._rotate*Math.PI/180),-Math.sin(this._rotate*Math.PI/180),Math.cos(this._rotate*Math.PI/180),0,0);this._matrix.multi(a).multi(b).multi(d);return this._matrix},get transformLM(){return"matrix("+this._scaleX+",0,0,"+this._scaleY+","+this._translateX+","+this._translateY+")"}};x.prototype={toString:function(){return"translate3d("+
this.x+"px,"+this.y+"px,"+this.z+"px)"}};window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}();R.prototype={updateThumbMatrix:function(){this.view.style.transform="translateX("+this.thumbTranslateX+"px)"},set frame(a){this.thumbTranslateX=a.x;this.width=a.width;this.updateThumbMatrix()},set width(a){this.thumbImg&&(this.thumbImg.style.transform="translateX("+(a-this.thumbSize.width)/
2+"px)")},get width(){return this.thumbSize.width}};S.prototype={createThumbCollection:function(){var a=this.term.filteredCollection?this.term.filteredCollection:this.term.itemsList;for(var b=0;b<a.length+1;b++){var d=void 0;a[b]&&(d=a[b]);d=new R(d,this);this.thumbList[b]=d;d.view.style.borderColor=f(c(this.appName).sliderThumbBarBgColor,1);0!=b&&(d.view.style.borderLeft="5px solid "+f(c(this.appName).sliderThumbBarBgColor,1));this.view.appendChild(d.view)}this.activateUI()},thumbHandler:function(a){this.delegate.eventHandlerSlider(a)},
arangeThumbForIndex:function(a){if(!this.isScrolling){var b=this.view.clientWidth,d=void 0;(a||0===a)&&this.thumbList[a]&&(d=this.thumbList[a],this.offsetX=b/2-d.width/2-a*this.minThumbWidth,this.lastActivIndex=a);for(b=0;b<this.thumbList.length;b++){var e=this.thumbList[b];e.view.style.transition="transform 0.6s";e.frame=d?b<a?new p(b*this.minThumbWidth+this.offsetX,0,this.minThumbWidth,c(this.appName).sliderThumbBarHeight):a==b?new p(b*this.minThumbWidth+this.offsetX,0,d.width,c(this.appName).sliderThumbBarHeight):
new p(b*this.minThumbWidth+d.width-this.minThumbWidth+this.offsetX,0,this.minThumbWidth,c(this.appName).sliderThumbBarHeight):new p(b*this.minThumbWidth+this.offsetX,0,this.minThumbWidth,c(this.appName).sliderThumbBarHeight)}}},moveThumb:function(a){var b=parseInt((this.view.clientWidth/2-(this.offsetX+a))/this.minThumbWidth);this.thumbHandler({type:"pushIndex",index:b,animation:!1});for(b=0;b<this.thumbList.length;b++){var d=this.thumbList[b];d.view.style.transition="transform 0s";d.frame=new p(b*
this.minThumbWidth+this.offsetX+a,0,this.minThumbWidth,c(this.appName).sliderThumbBarHeight)}},synchronize:function(){(this.delegate.currentPageIndex||0===this.delegate.currentPageIndex)&&this.arangeThumbForIndex(this.delegate.currentPageIndex)},activateUI:function(){function a(a){a.preventDefault();a.button&&0!==a.button||(e.isScrolling=!0,document.addEventListener("mousemove",b,!1),document.addEventListener("mouseup",d,!1),document.addEventListener("oncontextmenu",d,!1),document.addEventListener("touchmove",
b,!1),document.addEventListener("touchend",d,!1),document.addEventListener("touchcancel",d,!1),g=a.touches&&a.touches[0]?a.touches[0].pageX:a.pageX,c=g-e.view.getBoundingClientRect().left,h=g-c,e.arangeThumbForIndex(void 0))}function b(a){g=a.touches&&a.touches[0]?a.touches[0].pageX:a.pageX;h=g-c;e.moveThumb(h)}function d(a){a.preventDefault();e.isScrolling=!1;document.removeEventListener("mousemove",b,!1);document.removeEventListener("mouseup",d,!1);document.removeEventListener("oncontextmenu",d,
!1);document.removeEventListener("touchmove",b,!1);document.removeEventListener("touchend",d,!1);document.removeEventListener("touchcancel",d,!1);e.synchronize()}var e=this,c=0,h=0,g=0;this.view.addEventListener("mousedown",a,!1);this.view.addEventListener("touchstart",a,!1)}};T.prototype={set data(a){this.item=a;a.title&&""!=this.title?(this.title.innerHTML=a.title,this.title.style.display="block"):this.title.style.display="none";a.description&&""!=this.description?(this.description.innerHTML="<p>"+
a.description+"</p>",this.description.style.display="block"):this.description.style.display="none";this.link.style.display=a.link?"block":"none";c(this.appName).sliderSocialShareEnabled||c(this.appName).sliderItemDiscuss||c(this.appName).sliderItemDownload||a.link?this.subMenu.style.display="block":this.subMenu.style.display="none"}};U.prototype={set translate3d(a){this.view.style.transform=a.toString();this._translate3d=a},set position(a){this.view.style.left=a.x+"px";this.view.style.top=a.y+"px";
this._position=a},createAudioPlaterControls:function(){},showAudioPlayerControls:function(){if(this.playerControls){var a=document.getElementById("gmAudioPlayer");this.preloaderImg&&(this.audioStatus=a.src==this.item.url?a.paused?"pause":"play":"pause");this.audioRedy||(this.view.appendChild(this.playerControls),this.audioRedy=!0)}},tryPlayOrPauseMp3:function(){if(document.getElementById("gmAudioPlayer")&&"audio"==this.type){var a=document.getElementById("gmAudioPlayer");a.src==this.item.url?a.paused?
a.play():a.pause():(a.src=this.item.url,a.play())}},audioHandler:function(a){switch(a.type){case "ended":this.audioStatus="pause";break;case "play":this.audioStatus="play";break;case "pause":this.audioStatus="pause"}},set audioStatus(a){var b=this.playerControls.getElementsByClassName("gmBtHolderAlbumsSwitcher")[0];switch(a){case "play":this.preloaderImg.classList.add("rotate");b.style.transform=new x(-109,0,0);break;case "pause":this.preloaderImg.classList.remove("rotate"),b.style.transform=new x(0,
0,0)}},set size(a){if(this._size.width!=a.width||this._size.height!=a.height){this.view.style.width=a.width+"px";this.view.style.height=a.height+"px";this._size=a;var b;if(this.preloaderImg&&(a="image"==this.type?this.item.itemViewSize:new l(300,300),this.imageFrame=b=u(a,this._size,!1,!1),this.preloaderImg.style.left=b.x+"px",this.preloaderImg.style.top=b.y+"px",this.preloaderImg.style.width=b.width+"px",this.preloaderImg.style.height=b.height+"px","audio"==this.type)){var d=this.preloaderImg.getElementsByTagName("img")[0];
if(!d)return;a=u(a,new l(b.width,b.height),!0,!1);d.style.top=a.y+"px";d.style.left=a.x+"px";d.style.width=a.width+"px";d.style.height=a.height+"px"}this.itemImg&&(a="image"==this.type?this.item.itemViewSize:this.item.itemViewThumbSize,d=u(a,this._size,!1,!0),this.imageFrame=b=u(a,this._size,!1,!1),this.itemImg.style.transform=d)}},showPreloaderStage:function(){if(this.preloaderImg||this.displayed)this.showAudioPlayerControls();else if(this.item&&this.item.itemViewThumbSrc){var a="image"==this.type?
this.item.itemViewSize:new l(300,300),b=u(a,this._size,!1,!1);this.imageFrame=b;if("audio"==this.type){var d=document.createElement("div");d.className="gmpAudioCoverContainerAlbumsSwitcher";a=u(a,new l(b.width,b.height),!0,!1);var e=document.createElement("img");e.setAttribute("src",this.item.itemViewThumbSrc);e.style.maxWidth="none";e.style.position="absolute";e.style.setProperty("max-width","none","!important");e.style.top=a.y+"px";e.style.left=a.x+"px";e.style.width=a.width+"px";e.style.height=
a.height+"px";d.appendChild(e)}else d=document.createElement("img"),d.setAttribute("src",this.item.itemViewThumbSrc),d.style.maxWidth="none",d.style.position="absolute",d.style.setProperty("max-width","none","!important");this.preloaderImg=d;this.preloaderImg.style.left=b.x+"px";this.preloaderImg.style.top=b.y+"px";this.preloaderImg.style.width=b.width+"px";this.preloaderImg.style.height=b.height+"px";this.view.style.visibility="visible";this.view.insertBefore(this.preloaderImg,this.view.childNodes[0]);
this.showAudioPlayerControls()}},startLoadItem:function(){if(!this.itemImg&&"image"==this.type){var a=this;this.itemImg=document.createElement("img");this.itemImg.id=this.item.ID;this.itemImg.className="gmpAlbumsSwitcherPopUpItemView";this.itemImg.addEventListener("load",function(){a.itemLoaded=!0;a.needDisplay&&a.tryDisplayOriginal()});this.itemImg.setAttribute("src",this.item.itemViewSrc);this.itemImg.style.display="none";this.itemImg.style.opacity="0";this.itemImg.style.maxWidth="none";this.itemImg.style.position=
"absolute";this.itemImg.style.setProperty("max-width","none","!important");this.itemImg.style.transition="opacity 0.5s";this.view.appendChild(this.itemImg);var b=u("image"==this.type?this.item.itemViewSize:this.item.itemViewThumbSize,this._size,!1,!0);this.itemImg.style.transform=b}},tryDisplayOriginal:function(){var a=this;this.displayed||(this.itemLoaded&&this.itemImg?(this.itemImg.style.display="block",this.itemImg.style.opacity="1",this.displayed=!0,setTimeout(function(){a.preloaderImg&&(a.view.removeChild(a.preloaderImg),
delete a.preloaderImg)},800)):(this.showPreloaderStage(),this.needDisplay=!0,this.startLoadItem()))},removePage:function(){this.itemImg&&(this.view.removeChild(this.itemImg),delete this.itemImg,this.needDisplay=this.displayed=!1);this.preloaderImg&&(this.view.removeChild(this.preloaderImg),delete this.preloaderImg);this.playerControls&&this.audioRedy&&(this.view.removeChild(this.playerControls),this.audioRedy=!1);this.view.style.visibility="hidden"}};V.prototype={addToStage:function(){var a=this,
b=document.getElementsByTagName("body")[0];document.getElementsByTagName("html");this.view.style.zIndex=ia(b)+1;window.addEventListener&&window.addEventListener("DOMMouseScroll",y,!1);window.onwheel=y;window.onmousewheel=document.onmousewheel=y;window.ontouchmove=y;document.onkeydown=ka;m()||document.addEventListener("keydown",a.keydownHandler(),!0);b.appendChild(this.view);setTimeout(function(){a.background.style.opacity="1"},30);setTimeout(function(){a.createPages();a.gotoPageByIndex(a.startIndex,
!1);m()&&!r||!a.thumbsBar||(a.thumbsBar.createThumbCollection(),a.thumbsBar.arangeThumbForIndex(a.startIndex))},400)},prepareToRemove:function(){var a=this;this.delegate.itemsCountersUpdate();this.subMenu&&this.showSubmenu&&(this.subMenu.style.transition="0s",this.needShowSubmenu(!1));document.removeEventListener("keydown",a.handlerKB,!0);window.removeEventListener&&window.removeEventListener("DOMMouseScroll",y,!1);window.onmousewheel=document.onmousewheel=null;window.onwheel=null;window.ontouchmove=
null;document.onkeydown=null;this.background.style.opacity="0";this.view.removeChild(this.scrollView);m()||(this.view.removeChild(this.closeButton),this.view.removeChild(this.nextButton),this.view.removeChild(this.prevButton),this.view.removeChild(this.counter));for(var b=0;b<this.pages.length;b++)delete this.pages[b];this.pages.length=0;delete this.pages;setTimeout(function(){a.view&&a.view.parentNode&&a.view.parentNode.removeChild(a.view);delete a.view;a.delegate.removeSlider()},400)},eventHandlerSlider:function(a){"pushIndex"==
a.type&&this.tryOpenPageByIndex(a)},audioPlayerHandler:function(a){this.pages[this.currentPageIndex]&&this.pages[this.currentPageIndex].audioHandler(a)},createPages:function(){var a=this.term.filteredCollection?this.term.filteredCollection:this.term.itemsList;for(var b=0;b<a.length;b++){var d=new U(this,a[b]);this.pages[b]=d;this.scrollView.appendChild(d.view)}this.arangePages();this.activateUI();c(this.appName).key||(a=c(this.appName).tv.cloneNode(!0),a.style.top="50%",a.style.left="50%",a.style.transform=
"translateX(-50%) translateY(-50%)",this.view.appendChild(a))},frameForPageAtIndex:function(a){var b=0;M()&&(b=L());return new p(window.innerWidth*a+5+b,3,window.innerWidth-2*(5+b),window.innerHeight-6)},contentOffsetForPageAtIndex:function(a){return new B(-window.innerWidth*a,0)},resizeHandler:function(){this.resizeDelay&&clearTimeout(this.resizeDelay);var a=this;this.resizeDelay=setTimeout(function(){a.arangePages();a.thumbsBar&&a.thumbsBar.synchronize()},200)},arangePages:function(){if(m()){var a=
0;window.innerHeight<window.screen.availWidth&&(a=-this.view.getBoundingClientRect().top);this.view.style.top=a+"px"}this.visibleBounds.width=window.innerWidth;this.visibleBounds.height=window.innerHeight;this.infoBox&&this.isShowInfoBlock&&this.showInfo(!0);if(!this.pages||0!=this.pages.length){a=0;M()&&(a=L());this.prevButton&&(this.prevButton.style.left=a+10+"px");for(a=0;a<this.pages.length;a++){var b=this.pages[a],d=this.frameForPageAtIndex(a);b.position=new B(d.x,d.y);b.size=new l(d.width,d.height);
this.scrollViewWidth+=d.width+10}this.currentPageIndex&&this.pages[this.currentPageIndex]&&(this.pages[this.currentPageIndex].size=new l(d.width,d.height),this.scrollView.style.transition="none",d=new x(this.contentOffsetForPageAtIndex(this.currentPageIndex).x,0,0),this.scrollView.style.transform=d.toString())}},tryOpenPageByIndex:function(a){this.gotoPageByIndex(a.index,a.animation)},gotoPageByIndex:function(a,b){var d=this;a=parseInt(a);a>=this.pages.length-1?a=this.pages.length-1:0>a&&(a=0);this.currentPageIndex!=
a&&(b?(this.scrollView.style.transition="transform 0.3s",this.transition=!0):(this.scrollView.style.transition="none",this.pages[a].tryDisplayOriginal(),setTimeout(function(){d.needShowSubmenu(d.showSubmenu)},600)),this.didStartViewingPageAtIndex(a),b=this.contentOffsetForPageAtIndex(a).x,b=new x(b,0,0),this.scrollView.style.transform=b)},gotoNextPage:function(){var a=this.currentPageIndex+1;this.preparePageAtIndex(a);this.loadPageAtIndex(a+1);this.gotoPageByIndex(a,!0)},gotoPrevPage:function(){var a=
this.currentPageIndex-1;this.preparePageAtIndex(a);this.loadPageAtIndex(a-1);this.gotoPageByIndex(a,!0)},didStartViewingPageAtIndex:function(a){this.currentPageIndex=a;this.updateControll();this.infoBox&&this.isShowInfoBlock&&this.showInfo(!0);this.thumbsBar&&this.thumbsBar.arangeThumbForIndex(a);this.delegate.viewItem=a},preparePageAtIndex:function(a){this.preparationPage!=a&&(this.preparationPage=a,0>a||a>this.pages.length-1||(a=this.pages[a],a.showPreloaderStage(),a.startLoadItem()))},loadPageAtIndex:function(a){0>
a||a>this.pages.length-1||(a=this.currentPageIndex-(a-this.currentPageIndex),0>a||a>this.pages.length-1||this.pages[a].removePage())},scrollViewTransitionComplete:function(a){this.scrollView.style.transition="none";this.scrollView.transition=!1;this.pages[this.currentPageIndex]&&this.pages[this.currentPageIndex].tryDisplayOriginal()},updateControll:function(){m()||(this.prevButton.style.display=0>=this.currentPageIndex?"none":"block",this.nextButton.style.display=this.currentPageIndex>=this.pages.length-
1?"none":"block",this.closeButton.style.display="block",this.counter.innerHTML=this.currentPageIndex+1+" / "+this.pages.length)},showInfo:function(a){var b=this,d=(this.term.filteredCollection?this.term.filteredCollection:this.term.itemsList)[this.currentPageIndex],e=this.pages[this.currentPageIndex];d&&(this.infoBox||(this.infoBox=new T(this),M()&&(this.infoBox.view.style.left=L()/2+"px"),this.infoBox.view.style.opacity="0",this.infoBox.view.style.transition=".3s",this.view.appendChild(this.infoBox.view)),
a?(this.infoBox.data=d,this.infoBox.view.style.width=(500>window.innerHeight||500>window.innerWidth?window.innerWidth:e.imageFrame.width)+"px",d=80,c(this.appName).sliderDescriptionMode&&(d=5),this.infoBox.view.style.bottom=this.thumbsBar?c(this.appName).sliderThumbBarHeight+d+"px":"150px",this.infoBox.view.style.visibility="visible",setTimeout(function(){b.infoBox.view.style.opacity="1"},30)):(this.infoBox.view.style.opacity="0",this.infoBox.view.style.visibility="hidden",this.ibutton.style.fill=
f(c(b.appName).activColor,1),this.ibutton.style.backgroundColor=f(c(b.appName).reverseColor,.6)),this.isShowInfoBlock=a)},needShowSubmenu:function(a){m()&&!r||!this.thumbsBar||(this.thumbsBar.view.style.transform=a?"translateY(0%)":"translateY(100%)");this.subMenu&&(c(this.appName).sliderDescriptionMode?this.showInfo(a):a?this.subMenu.style.transform=this.thumbsBar?"translateY(-"+(c(this.appName).sliderThumbBarHeight+80)+"px)":"translateY(-150px)":(this.subMenu.style.transform="translateY(0px)",this.isShowInfoBlock&&
this.showInfo(!1)))},keydownHandler:function(a){var b=this;b.handlerKB=function(a){switch(a.keyCode){case 37:b.gotoPrevPage();break;case 39:b.gotoNextPage();break;case 27:b.prepareToRemove();break;case 32:return b.needShowSubmenu(!b.showSubmenu),b.showSubmenu=!b.showSubmenu,y(a),!1}};return b.handlerKB},activateUI:function(){function a(a){a.preventDefault();a.button&&0!==a.button||(w=0,p=l=!1,e.scrollView.style.transition="none",document.addEventListener("mousemove",b,!1),document.addEventListener("mouseup",
d,!1),document.addEventListener("oncontextmenu",d,!1),document.addEventListener("touchmove",b,!1),document.addEventListener("touchend",d,!1),document.addEventListener("touchcancel",d,!1),a.touches&&a.touches[0]?(t=a.touches[0].pageX,v=a.touches[0].pageY):(t=a.pageX,v=a.pageY),h=t-c.getBoundingClientRect().left,g=t-h,n.x=g,f=v-c.getBoundingClientRect().top,m=v-f,n.y=m,e.transition=!0)}function b(a){if(1>w)w+=1;else{a.touches&&a.touches[0]?(t=a.touches[0].pageX,v=a.touches[0].pageY):(t=a.pageX,v=a.pageY);
!p&&Math.abs(g-(t-h))>=Math.abs(m-(v-f))&&(l=!0);p=!0;if(l){a=0;var b=e.preparationPage;t-h>g?(q=Math.floor(-g/e.visibleBounds.width),a=-1):t-h<g&&(q=Math.ceil(-g/e.visibleBounds.width),a=1);q!=b&&q!=e.currentPageIndex&&(e.preparePageAtIndex(q),e.loadPageAtIndex(q+a));a=Math.ceil((-g-e.visibleBounds.width/2)/e.visibleBounds.width);if(0>a||-0==a)a=0;a>e.pages.length-1&&(a=e.pages.length-1);a!=e.currentPageIndex&&e.didStartViewingPageAtIndex(a);g=t-h;n.x=g}else m=v-f,n.y=m,a=1-1/.15*(Math.abs(n.y)/
e.visibleBounds.height),e.background.style.opacity=0<=a?a:0,e.closeButton&&"none"!=e.closeButton.style.display&&(e.closeButton.style.display="none",e.prevButton.style.display="none",e.nextButton.style.display="none",e.needShowSubmenu(!1));c.style.transform=n}}function d(a){a.preventDefault();0==w&&(e.needShowSubmenu(!e.showSubmenu),e.showSubmenu=!e.showSubmenu);a=e.contentOffsetForPageAtIndex(e.currentPageIndex).x;var k=(g-a)/e.visibleBounds.width;.15<Math.abs(n.y)/e.visibleBounds.height?e.prepareToRemove():
(e.scrollView.style.transition="transform 0.3s",n.y=0,e.background.style.opacity=1,e.updateControll(),e.needShowSubmenu(e.showSubmenu));.05<=Math.abs(k)&&0<=e.preparationPage&&e.preparationPage<=e.pages.length-1&&(a=e.contentOffsetForPageAtIndex(e.preparationPage).x,e.didStartViewingPageAtIndex(e.preparationPage));document.removeEventListener("mousemove",b,!1);document.removeEventListener("mouseup",d,!1);document.removeEventListener("oncontextmenu",d,!1);document.removeEventListener("touchmove",b,
!1);document.removeEventListener("touchend",d,!1);document.removeEventListener("touchcancel",d,!1);n.x=a;c.style.transform=n}var e=this,c=this.scrollView,h=0,g=0,f=0,m=0,q=0,n=new x(0,0,0),l=!1,p=!1,w=0,t=0,v=0;c.addEventListener("mousedown",a,!1);c.addEventListener("touchstart",a,!1)}};W.prototype={initByTerm:function(a){this.imgSRC==a.itemViewThumbSrc?(this.img.style.display="block",this.delegate.itemsLoaderHandler(this.view.clientWidth)):(this.link.classList.remove("rotate"),this.hover.classList.remove("fla_AlbumsSwitcher_ScrollBarItemHoverActiv"),
this.item=a,this.img.style.display="none",this.img.setAttribute("alt",a.title),this.imgSRC=this.img.src=a.itemViewThumbSrc,c(this.appName).termCollectionSwitcherThumbsTitleShow&&(this.title.innerHTML=a.title&&""!=a.title?a.title:""),a.link&&""!=a.link?this.link.innerHTML='<svg version="1.1" viewBox="0 0 80 80" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M29.298,63.471l-4.048,4.02c-3.509,3.478-9.216,3.481-12.723,0c-1.686-1.673-2.612-3.895-2.612-6.257   s0.927-4.585,2.611-6.258l14.9-14.783c3.088-3.062,8.897-7.571,13.131-3.372c1.943,1.93,5.081,1.917,7.01-0.025   c1.93-1.942,1.918-5.081-0.025-7.009c-7.197-7.142-17.834-5.822-27.098,3.37L5.543,47.941C1.968,51.49,0,56.21,0,61.234   s1.968,9.743,5.544,13.292C9.223,78.176,14.054,80,18.887,80c4.834,0,9.667-1.824,13.348-5.476l4.051-4.021   c1.942-1.928,1.953-5.066,0.023-7.009C34.382,61.553,31.241,61.542,29.298,63.471z M74.454,6.044   c-7.73-7.67-18.538-8.086-25.694-0.986l-5.046,5.009c-1.943,1.929-1.955,5.066-0.025,7.009c1.93,1.943,5.068,1.954,7.011,0.025   l5.044-5.006c3.707-3.681,8.561-2.155,11.727,0.986c1.688,1.673,2.615,3.896,2.615,6.258c0,2.363-0.928,4.586-2.613,6.259   l-15.897,15.77c-7.269,7.212-10.679,3.827-12.134,2.383c-1.943-1.929-5.08-1.917-7.01,0.025c-1.93,1.942-1.918,5.081,0.025,7.009   c3.337,3.312,7.146,4.954,11.139,4.954c4.889,0,10.053-2.462,14.963-7.337l15.897-15.77C78.03,29.083,80,24.362,80,19.338   C80,14.316,78.03,9.595,74.454,6.044z"></path></g></svg>':
"audio"==z(a.mime_type)?this.link.innerHTML='<svg version="1.1" viewBox="0 0 58 94" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M37.992,0h-8.021v65.358c-4.435-1.706-10.174-1.73-15.835,0.328C3.994,69.377-2.049,78.355,0.638,85.736   c2.688,7.383,13.088,10.374,23.229,6.683c8.614-3.134,14.249-10.082,14.111-16.626l0.014-53.451   c13.986,2.204,14.943,19.884,13.268,24.842c-0.636,1.879,0.484,3.286,2.598,0C68.938,23.726,37.992,13.376,37.992,0z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>':
this.link.innerHTML='<svg version="1.1" viewBox="0 0 139 139" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M127.558,111.961L100.249,84.65c4.64-7.387,7.333-16.118,7.333-25.488c0-26.509-21.49-47.996-47.998-47.996  c-26.508,0-47.996,21.487-47.996,47.996c0,26.51,21.487,47.995,47.996,47.995c10.197,0,19.642-3.188,27.414-8.605l26.984,26.986  c1.875,1.873,4.333,2.806,6.788,2.806c2.458,0,4.913-0.933,6.791-2.806C131.308,121.787,131.308,115.711,127.558,111.961z   M59.584,91.607c-17.917,0-32.443-14.525-32.443-32.443S41.667,26.72,59.584,26.72c17.918,0,32.443,14.526,32.443,32.444  S77.502,91.607,59.584,91.607z"/></svg>',
m()&&!r&&(this.hover.style.opacity="1",this.hover.style.backgroundColor=f(c(this.appName).activColor,.6),this.link.style.backgroundColor=null,this.link.style.fill=f(c(this.appName).reverseColor,1)))},set musicIdentifireStatus(a){switch(a){case "play":"audio"==z(this.item.mime_type)&&(this.link.innerHTML='<svg version="1.1" viewBox="0 0 58 94" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M37.992,0h-8.021v65.358c-4.435-1.706-10.174-1.73-15.835,0.328C3.994,69.377-2.049,78.355,0.638,85.736   c2.688,7.383,13.088,10.374,23.229,6.683c8.614-3.134,14.249-10.082,14.111-16.626l0.014-53.451   c13.986,2.204,14.943,19.884,13.268,24.842c-0.636,1.879,0.484,3.286,2.598,0C68.938,23.726,37.992,13.376,37.992,0z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>');
this.link.classList.add("rotate");this.hover.classList.add("fla_AlbumsSwitcher_ScrollBarItemHoverActiv");break;case "durationchange":"audio"==z(this.item.mime_type)&&(this.link.innerHTML='<svg version="1.1" viewBox="0 0 58 94" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M37.992,0h-8.021v65.358c-4.435-1.706-10.174-1.73-15.835,0.328C3.994,69.377-2.049,78.355,0.638,85.736   c2.688,7.383,13.088,10.374,23.229,6.683c8.614-3.134,14.249-10.082,14.111-16.626l0.014-53.451   c13.986,2.204,14.943,19.884,13.268,24.842c-0.636,1.879,0.484,3.286,2.598,0C68.938,23.726,37.992,13.376,37.992,0z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg>');
this.link.classList.add("rotate");this.hover.classList.add("fla_AlbumsSwitcher_ScrollBarItemHoverActiv");break;case "ended":this.item.link&&""!=this.item.link&&(this.link.innerHTML='<svg version="1.1" viewBox="0 0 80 80" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M29.298,63.471l-4.048,4.02c-3.509,3.478-9.216,3.481-12.723,0c-1.686-1.673-2.612-3.895-2.612-6.257   s0.927-4.585,2.611-6.258l14.9-14.783c3.088-3.062,8.897-7.571,13.131-3.372c1.943,1.93,5.081,1.917,7.01-0.025   c1.93-1.942,1.918-5.081-0.025-7.009c-7.197-7.142-17.834-5.822-27.098,3.37L5.543,47.941C1.968,51.49,0,56.21,0,61.234   s1.968,9.743,5.544,13.292C9.223,78.176,14.054,80,18.887,80c4.834,0,9.667-1.824,13.348-5.476l4.051-4.021   c1.942-1.928,1.953-5.066,0.023-7.009C34.382,61.553,31.241,61.542,29.298,63.471z M74.454,6.044   c-7.73-7.67-18.538-8.086-25.694-0.986l-5.046,5.009c-1.943,1.929-1.955,5.066-0.025,7.009c1.93,1.943,5.068,1.954,7.011,0.025   l5.044-5.006c3.707-3.681,8.561-2.155,11.727,0.986c1.688,1.673,2.615,3.896,2.615,6.258c0,2.363-0.928,4.586-2.613,6.259   l-15.897,15.77c-7.269,7.212-10.679,3.827-12.134,2.383c-1.943-1.929-5.08-1.917-7.01,0.025c-1.93,1.942-1.918,5.081,0.025,7.009   c3.337,3.312,7.146,4.954,11.139,4.954c4.889,0,10.053-2.462,14.963-7.337l15.897-15.77C78.03,29.083,80,24.362,80,19.338   C80,14.316,78.03,9.595,74.454,6.044z"></path></g></svg>');
this.link.classList.remove("rotate");this.hover.classList.remove("fla_AlbumsSwitcher_ScrollBarItemHoverActiv");break;case "pause":this.item.link&&""!=this.item.link&&(this.link.innerHTML='<svg version="1.1" viewBox="0 0 80 80" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M29.298,63.471l-4.048,4.02c-3.509,3.478-9.216,3.481-12.723,0c-1.686-1.673-2.612-3.895-2.612-6.257   s0.927-4.585,2.611-6.258l14.9-14.783c3.088-3.062,8.897-7.571,13.131-3.372c1.943,1.93,5.081,1.917,7.01-0.025   c1.93-1.942,1.918-5.081-0.025-7.009c-7.197-7.142-17.834-5.822-27.098,3.37L5.543,47.941C1.968,51.49,0,56.21,0,61.234   s1.968,9.743,5.544,13.292C9.223,78.176,14.054,80,18.887,80c4.834,0,9.667-1.824,13.348-5.476l4.051-4.021   c1.942-1.928,1.953-5.066,0.023-7.009C34.382,61.553,31.241,61.542,29.298,63.471z M74.454,6.044   c-7.73-7.67-18.538-8.086-25.694-0.986l-5.046,5.009c-1.943,1.929-1.955,5.066-0.025,7.009c1.93,1.943,5.068,1.954,7.011,0.025   l5.044-5.006c3.707-3.681,8.561-2.155,11.727,0.986c1.688,1.673,2.615,3.896,2.615,6.258c0,2.363-0.928,4.586-2.613,6.259   l-15.897,15.77c-7.269,7.212-10.679,3.827-12.134,2.383c-1.943-1.929-5.08-1.917-7.01,0.025c-1.93,1.942-1.918,5.081,0.025,7.009   c3.337,3.312,7.146,4.954,11.139,4.954c4.889,0,10.053-2.462,14.963-7.337l15.897-15.77C78.03,29.083,80,24.362,80,19.338   C80,14.316,78.03,9.595,74.454,6.044z"></path></g></svg>'),
this.link.classList.remove("rotate"),this.hover.classList.remove("fla_AlbumsSwitcher_ScrollBarItemHoverActiv")}}};X.prototype={initItemsList:function(a){function b(a){"touchend"!=a.type&&"mouseup"!=a.type||d.dragging||(d.delegate.itemActionHandler(parseInt(this.getAttribute("gmIndex"))),d.startDragHandler&&d.startDragHandler())}var d=this;this.prepare();var e=0;if(!a&&0==a.length){for(e=0;e<this.thumbsList.length;e++)var c=this.thumbsList[e];c.view.style.display="none"}var h=this.thumbsList.length;
if(a.length>=h)for(e=0;e<a.length;e++)c=void 0,e<h?(c=this.thumbsList[e],c.view.style.display="block"):(c=new W(this),this.thumbsList.push(c),m(),c.view.addEventListener("mouseup",b,!1),this.scrollView.appendChild(c.view)),c.initByTerm(a[e]),c.view.setAttribute("gmIndex",e);else for(e=0;e<this.thumbsList.length;e++)c=this.thumbsList[e],e<a.length?(c.view.style.display="block",c.initByTerm(a[e]),c.view.setAttribute("gmIndex",e)):c.view.style.display="none"},changeAudioStatusForIndex:function(a,b){!this.activAudioIndex&&
0!==this.activAudioIndex||a==this.activAudioIndex||(this.thumbsList[this.activAudioIndex].musicIdentifireStatus="ended");this.thumbsList[a].musicIdentifireStatus=b.type;this.activAudioIndex=a},itemsLoaderHandler:function(a){this._scrollWidth+=a;this.scrollView.style.width=this._scrollWidth+5+"px";this.updateView()},prepare:function(){this.scrollBar.style.transform="scaleX(0)";this._scrollWidth=0;this.scrollView.style.transform="translateX(0px)";this.scrollView.style.width="0px";this._scrollViewTranslateX=
0;this.scrollBarMatrix.translateX=0},resize:function(){this.updateView();1<=this.scrollBarControll.clientWidth/this._scrollWidth||(this.scrollViewTranslateX=Math.max(this._scrollViewTranslateX,-(this._scrollWidth-this.scrollBarControll.clientWidth)))},updateView:function(){var a=this.scrollBarControll.clientWidth/this._scrollWidth;this.scrollBarMatrix.scaleX=a;this.scrollBar.style.transform=this.scrollBarMatrix.transformLM;if(1>a){if(!this.viewCompleted){this.scrollBar.style.display="block";this.scrollView.classList.add("fla_grabbable");
this.startDragScrollBarHandler=this.startBarDrag();this.scrollTrackHandler=this.trackHandler();this.startDragHandler=this.startDrag();if(m()){var b=G()?{passive:!1,capture:!1}:!1;this.scrollBar.addEventListener("touchstart",this.startDragScrollBarHandler,b);this.scrollView.addEventListener("touchstart",this.startDragHandler,b)}this.scrollBar.addEventListener("mousedown",this.startDragScrollBarHandler,!1);this.scrollTrack.addEventListener("mousedown",this.scrollTrackHandler,!1);this.scrollView.addEventListener("mousedown",
this.startDragHandler,!1);this.viewCompleted=!0}}else this.scrollBar.style.display="none",this.scrollView.classList.remove("fla_grabbable"),this.viewCompleted&&(m()&&(this.scrollBar.removeEventListener("touchstart",this.startDragScrollBarHandler,b),this.scrollView.removeEventListener("touchstart",this.startDragHandler,b)),this.scrollBar.removeEventListener("mousedown",this.startDragScrollBarHandler,!1),this.scrollView.removeEventListener("mousedown",this.startDragHandler,!1),this.scrollTrack.removeEventListener("mousedown",
this.scrollTrackHandler,!1),this.viewCompleted=!1)},set scrollViewTranslateX(a){this._scrollViewTranslateX=a;this.scrollView.style.transform="translateX("+a+"px)";if(this._scrollWidth||0!==a)this.scrollBarMatrix.translateX=-(a/this._scrollWidth)*this.scrollBarControll.clientWidth,this.scrollBar.style.transform=this.scrollBarMatrix.transformLM},set scrollBarTranslateX(a){this.scrollViewTranslateX=-(a/this.scrollBarControll.clientWidth)*this._scrollWidth},get scrollViewTranslateX(){return this._scrollViewTranslateX},
trackHandler:function(a){function b(){q(f);document.removeEventListener("mouseup",b,!1)}function d(){c=.03*c+.03*(g-h);h+=c;e.scrollBarTranslateX=h;.04>Math.abs(c)?q(f):f=m(d)}var e=this,c=0,h=this.scrollBarMatrix._translateX,g=0,f=void 0,m=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,q=window.cancelAnimationFrame||window.mozCancelAnimationFrame;return function(a){a.preventDefault();a.button&&0!==a.button||(h=e.scrollBarMatrix._translateX,
c=0,a=a.touches&&a.touches[0]?a.touches[0].pageX:a.pageX,a-=e.view.getBoundingClientRect().left,g=a=Math.min(a,e.scrollBarControll.clientWidth-e.scrollBarControll.clientWidth*e.scrollBarMatrix._scaleX),document.addEventListener("mouseup",b,!1),f=m(d))}},startBarDrag:function(a){function b(a){if(a.touches&&a.touches[0]){var b=a.touches[0].pageX;var d=a.touches[0].pageY}else b=a.pageX,d=a.pageY;void 0===l&&(d===g?l=!1:(d=180*Math.atan2(Math.abs(d-g),Math.abs(b-h))/Math.PI,l=45<d));l||(a.preventDefault(),
e.scrollBarTranslateX=Math.min(Math.max(f-(h-b),0),e.scrollBarControll.clientWidth-e.scrollBarControll.clientWidth*e.scrollBarMatrix._scaleX))}function d(a){e.scrollBar.style.transition=null;m()&&(document.removeEventListener("touchmove",b,c),document.removeEventListener("touchend",d,c),document.removeEventListener("touchcancel",d,!1));document.removeEventListener("mousemove",b,!1);document.removeEventListener("mouseup",d,!1);document.removeEventListener("oncontextmenu",d,!1)}var e=this,c=G()?{passive:!1,
capture:!1}:!1,h=void 0,g=void 0,f=void 0,l=void 0;return function(a){m()||a.preventDefault();if(!a.button||0===a.button){l=void 0;if(a.touches&&a.touches[0]){var k=a.touches[0].pageX;a=a.touches[0].pageY}else k=a.pageX,a=a.pageY;h=k;g=a;f=e.scrollBarMatrix._translateX;m()&&(document.addEventListener("touchmove",b,c),document.addEventListener("touchend",d,c),document.addEventListener("touchcancel",d,!1));document.addEventListener("mousemove",b,!1);document.addEventListener("mouseup",d,!1);document.addEventListener("oncontextmenu",
d,!1)}}},startDrag:function(a){function b(){n=0<c.scrollViewTranslateX?.2*n+.1*(0-c.scrollViewTranslateX):c.scrollViewTranslateX<-(c._scrollWidth-c.scrollBarControll.clientWidth)?.2*n+.1*(-(c._scrollWidth-c.scrollBarControll.clientWidth)-c.scrollViewTranslateX):.95*n;c.scrollViewTranslateX+=n;.04>Math.abs(n)?v(w):w=t(b)}function d(a){if(a.touches&&a.touches[0]){var b=a.touches[0].pageX;var d=a.touches[0].pageY}else b=a.pageX,d=a.pageY;void 0===p&&(d===g?p=!1:(d=180*Math.atan2(Math.abs(d-g),Math.abs(b-
f))/Math.PI,p=45<d));p?c.dragging=!0:(a.preventDefault(),c.dragging=!0,c.scrollViewTranslateX=l-(f-b),u=r,r=c.scrollViewTranslateX,n=1*(r-u))}function e(a){c.scrollView.style.transition=null;m()&&(document.removeEventListener("touchmove",d,q),document.removeEventListener("touchend",e,q),document.removeEventListener("touchcancel",e,!1));document.removeEventListener("mousemove",d,!1);document.removeEventListener("mouseup",e,!1);document.removeEventListener("oncontextmenu",e,!1);if(0!=n||0<c.scrollViewTranslateX||
c.scrollViewTranslateX<-(c._scrollWidth-c.scrollBarControll.clientWidth))w=t(b);c.dragging=!1}var c=this,f=void 0,g=void 0,l=void 0,p=void 0,q=G()?{passive:!1,capture:!1}:!1,n=0,u=0,r=0,w=void 0,t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,v=window.cancelAnimationFrame||window.mozCancelAnimationFrame;return function(a){if(a){if(m()||a.preventDefault(),!a.button||0===a.button){n=0;p=void 0;if(a.touches&&a.touches[0]){var b=
a.touches[0].pageX;a=a.touches[0].pageY}else b=a.pageX,a=a.pageY;f=b;g=a;l=c.scrollViewTranslateX;v(w);m()&&(document.addEventListener("touchmove",d,q),document.addEventListener("touchend",e,q),document.addEventListener("touchcancel",e,!1));document.addEventListener("mousemove",d,!1);document.addEventListener("mouseup",e,!1);document.addEventListener("oncontextmenu",e,!1)}}else n=0,l=c.scrollViewTranslateX,v(w)}}};Y.prototype={resize:function(){c(this.appName).collectionShareButtonEnable||(this._detail.style.maxHeight=
this._thumbArea.offsetTop-this._title.offsetHeight+"px");this._detail.childNodes&&(this.detail=this._detailHTML);this.thumbsScrollBar.resize()},set title(a){if(this._title)if(!a&&this._title.childNodes)for(;this._title.firstChild;)this._title.removeChild(this._title.firstChild);else this._title.innerHTML=a,this.pageHeight-=this._title.clientHeight,c(this.appName).termCollectionSwitcherThumbsHeight=Math.min(this.pageHeight,c(this.appName).termCollectionSwitcherThumbsHeight)},set detail(a){if(c(this.appName).collectionDescriptionShow)if(!a&&
this._detail.childNodes){for(;this._detail.firstChild;)this._detail.removeChild(this._detail.firstChild);this._detailHTML=void 0}else{c(this.appName).collectionShareButtonEnable||(this._detail.style.maxHeight=this._thumbArea.offsetTop-(this._title?this._title.offsetHeight:0)+"px");this._detailHTML=a;this._detail.innerHTML=a;a=this._detail;for(var b;a.clientHeight<a.scrollHeight;){b=a.innerHTML.trim();if(1>=b.split(" ").length)break;a.innerHTML=b.replace(/\W*\s(\S)*$/,"...")}}else this._detail.display=
"none"},set shareURL(a){function b(b){switch(this.getAttribute("title")){case "Facebook":url="https://www.facebook.com/share.php?u="+a.sharelink;break;case "Twitter":url="https://twitter.com/intent/tweet?text="+encodeURI(a.name)+"&url="+a.sharelink;break;case "Pinterest":url="http://www.pinterest.com/pin/create/button/?url="+a.sharelink+"&media="+(a.thumbnail?a.thumbnail:"")+"&description="+encodeURI(a.name)}window.open(url,"_blank")}if(c(this.appName).collectionShareButtonEnable&&!this.shareEnable){var d=
document.createElement("span");d.className="thumbButton_CV_Header";d.setAttribute("title","Facebook");d.innerHTML='<svg enable-background="new 0 0 32 32" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Flat_copy"><path d="M11.848,32h6.612V15.998h4.411l0.584-5.514H18.46l0.007-2.761c0-1.437,0.137-2.209,2.2-2.209h2.757V0h-4.412   c-5.299,0-7.164,2.675-7.164,7.174v3.311H8.545v5.515h3.303V32z"/></g></svg>';d.style.cursor=
"pointer";d.style.fill=f(c(this.appName).reverseColor,1);d.style.backgroundColor=f(c(this.appName).collectionShareButtonsCollor,1);d.addEventListener("click",b);m()&&d.addEventListener("touchend",b,!0);this._shareArea.appendChild(d);d=document.createElement("span");d.className="thumbButton_CV_Header";d.setAttribute("title","Twitter");d.innerHTML='<svg enable-background="new 0 0 32 32" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Flat_copy"><path d="M20.046,3.071c-2.89,1.052-4.716,3.764-4.509,6.732l0.07,1.145l-1.156-0.14c-4.207-0.537-7.884-2.36-11.006-5.423   L1.919,3.866L1.526,4.988c-0.832,2.501-0.3,5.143,1.433,6.92c0.925,0.982,0.716,1.122-0.878,0.537   c-0.555-0.186-1.041-0.327-1.087-0.257c-0.161,0.164,0.393,2.291,0.832,3.133c0.601,1.17,1.826,2.314,3.168,2.993l1.133,0.537   l-1.341,0.023c-1.294,0-1.341,0.023-1.202,0.515c0.462,1.519,2.289,3.133,4.323,3.834l1.433,0.49l-1.248,0.748   c-1.849,1.077-4.023,1.684-6.197,1.729C0.855,26.213,0,26.307,0,26.378c0,0.233,2.821,1.541,4.462,2.057   c4.925,1.519,10.775,0.864,15.168-1.73c3.122-1.847,6.242-5.517,7.7-9.071c0.787-1.892,1.572-5.353,1.572-7.011   c0-1.076,0.07-1.216,1.364-2.501c0.764-0.748,1.48-1.566,1.619-1.8c0.232-0.445,0.207-0.445-0.971-0.047   c-1.965,0.702-2.243,0.608-1.271-0.444c0.716-0.748,1.572-2.104,1.572-2.501c0-0.07-0.346,0.046-0.74,0.257   C30.059,3.819,29.134,4.17,28.44,4.38l-1.248,0.398l-1.133-0.772c-0.625-0.42-1.502-0.888-1.965-1.028   C22.914,2.651,21.11,2.697,20.046,3.071z"/></g></svg>';
d.style.cursor="pointer";d.style.fill=f(c(this.appName).reverseColor,1);d.style.backgroundColor=f(c(this.appName).collectionShareButtonsCollor,1);d.addEventListener("click",b);m()&&d.addEventListener("touchend",b,!0);this._shareArea.appendChild(d);d=document.createElement("span");d.className="thumbButton_CV_Header";d.setAttribute("title","Pinterest");d.innerHTML='<svg enable-background="new 0 0 32 32" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Flat_copy"><path d="M28.386,10.53c0,7.21-4.008,12.598-9.918,12.598c-1.985,0-3.851-1.073-4.49-2.292c0,0-1.068,4.235-1.292,5.053   c-0.796,2.888-3.137,5.777-3.318,6.015c-0.127,0.165-0.407,0.113-0.437-0.105c-0.051-0.368-0.647-4.013,0.055-6.986   c0.352-1.493,2.364-10.016,2.364-10.016s-0.586-1.174-0.586-2.908c0-2.725,1.578-4.758,3.544-4.758   c1.672,0,2.479,1.254,2.479,2.759c0,1.682-1.069,4.194-1.622,6.522c-0.461,1.95,0.978,3.541,2.901,3.541   c3.482,0,5.827-4.474,5.827-9.773c0-4.028-2.712-7.044-7.648-7.044c-5.574,0-9.049,4.158-9.049,8.803   c0,1.602,0.473,2.732,1.213,3.605c0.339,0.402,0.387,0.563,0.264,1.025c-0.09,0.339-0.29,1.152-0.376,1.475   c-0.122,0.466-0.499,0.632-0.92,0.46c-2.567-1.048-3.764-3.861-3.764-7.022C3.614,6.261,8.017,0,16.75,0   C23.769,0,28.386,5.077,28.386,10.53z"/></g></svg>';
d.style.cursor="pointer";d.style.fill=f(c(this.appName).reverseColor,1);d.style.backgroundColor=f(c(this.appName).collectionShareButtonsCollor,1);d.addEventListener("click",b);m()&&d.addEventListener("touchend",b,!0);this._shareArea.appendChild(d);this.shareEnable=!0;this._shareArea.offsetTop<(this._title?this._title.offsetHeight:0)?(this._title&&(this._title.style.display="none"),c(this.appName).collectionDescriptionShow||(this._detail.style.display="none")):(this._title&&(this._title.style.display=
"block"),c(this.appName).collectionDescriptionShow||(this._detail.style.display="block"));this._detail.style.maxHeight=c(this.appName).termCollectionViewHeight-c(this.appName).termCollectionSwitcherThumbsHeight-this._shareArea.clientHeight-(this._title?this._title.offsetHeight:0)+"px";this.pageHeight-=this._shareArea.clientHeight;c(this.appName).termCollectionSwitcherThumbsHeight=Math.min(this.pageHeight,c(this.appName).termCollectionSwitcherThumbsHeight)}},initItemsCollection:function(a){this.term=
a;this.showPreloader(!1);this._thumbArea.id="items_collection_"+this.appName+"_"+a.term_id;this.thumbsScrollBar.initItemsList(a.itemsList)},itemActionHandler:function(a){this.term&&this.delegate.actionHandlerForTermByIndex(this.term,a)},showPreloader:function(a){if(a)0<this._thumbArea.getElementsByClassName("fla_AlbumsSwitcher_Preloader").length||(a=O(f(c(this.appName).activColor,.7)),this._thumbArea.appendChild(a));else if(this._thumbArea.getElementsByClassName("fla_AlbumsSwitcher_Preloader")[0]){var b=
this;P(this._thumbArea.getElementsByClassName("fla_AlbumsSwitcher_Preloader")[0],function(){b._thumbArea.removeChild(b._thumbArea.getElementsByClassName("fla_AlbumsSwitcher_Preloader")[0])},500)}},prepare:function(){this.thumbsScrollBar.prepare()},audioPlayerEventHandler:function(a){if(this.term&&this.term.itemsList&&a.target.src&&this.thumbsScrollBar)for(var b=a.target.src,d=0;d<this.term.itemsList.length;d++){var c=this.term.itemsList[d];"audio"==z(c.mime_type)&&c.url==b&&(this.thumbsScrollBar.changeAudioStatusForIndex(d,
a),d=this.term.itemsList.length)}}};Z.prototype={removeFromStage:function(){this.view.style.display="none";this.newLine=!0;this._position=void 0;this.stopAudio()},moveToPosition:function(a,b,d){this.irc.style.left=b-10+"px";d?(this.view.style.left=a.x+"px",this.view.style.top=a.y+"px",this._position=a,this.pages[1].resize()):(this.view.style.display="block",this.newLine=!0,this._position&&this._position.y==a.y?this.newLine=!1:(this.view.style.opacity="0",this.view.style.left=a.x+"px",this.view.style.top=
a.y+"px",this._position=a))},colectionCompleteHandler:function(a){if(a.params.term||!a.params.term.itemsList){a=a.params.term;var b=this.pages[1];b.termId==a.term_id&&b.initItemsCollection(a)}},pushPage:function(a){var b=this;this.stopAudio();var d=this.newLine?this.pages[1]:this.pages[2];if(d.termId!=a.term_id){d.prepare();var c=a.name?a.name:void 0;"gmedia_tag"!=a.taxonomy&&c&&(c=c.toUpperCase());d.title=c;d.shareURL=a;d.detail=a.description?a.description:void 0;a.itemsList?d.initItemsCollection(a):
(d.showPreloader(!0),this.delegate.getCollectionForTerm(a));d.termId=a.term_id}this.newLine?setTimeout(function(){b.view.style.opacity="1"},300):(setTimeout(function(){b.view.style.opacity="1"},300),this.pages[0].view.style.transition="0s",this.pages[0].view.style.transform="translateX(100%)",this.pages[1].view.style.transition="0.5s",this.pages[1].view.style.transform="translateX(-100%)",this.pages[2].view.style.transition="0.5s",this.pages[2].view.style.transform="translateX(0%)",this.pages.push(this.pages[0]),
this.pages.splice(0,1))},stopAudio:function(){document.getElementById("flaAudioPlayer")&&document.getElementById("flaAudioPlayer").pause()}};aa.prototype={showWithDelay:function(a){var b=this;setTimeout(function(){b.view.style.opacity="1"},a)},set frame(a){this._frame=a;this.size=new l(a.width,a.height);this.view.style.transform="translateX("+a.x+"px) translateY("+a.y+"px)"},set size(a){this.view.style.width=a.width+"px";this.view.style.height=a.height+"px";this.title&&(160>a.width?(this.title.style.fontSize=
c(this.termData.appName).coverTitleFontSize-8+"px",this.title.style.lineHeight=c(this.termData.appName).coverTitleFontSize-8+"px"):(this.title.style.fontSize=c(this.termData.appName).coverTitleFontSize+"px",this.title.style.lineHeight=c(this.termData.appName).coverTitleFontSize+"px"));this.title.style.maxWidth=a.width-10+"px";this.thumbImg&&(a=400>Math.max(a.width,a.height)?this.coverSrc[0]:this.coverSrc[1],this.thumbImg.src!=a&&(this.thumbImg.src=a),this.resizeCover())},set transforAnimation(a){this._transformAnimation!=
a&&(this._transformAnimation=a,this.view.style.transition=""+(a?.5:0)+"s")},thumbLoad:function(a){this.coverImgSize=new l(this.thumbImg.naturalWidth,this.thumbImg.naturalHeight);this.resizeCover();this.thumbImg.style.opacity="1"},resizeCover:function(){if(this.coverImgSize){var a=u(this.coverImgSize,new l(this._frame.width,this._frame.height),!0,!1);this.thumbImg.style.left=a.x+"px";this.thumbImg.style.top=a.y+"px";this.thumbImg.style.width=a.width+"px";this.thumbImg.style.height=a.height+"px"}}};
ba.prototype={frameForItemByIndex:function(a,b){var d=this.inBoxSize.width,c=Math.min(this.columns,Math.floor((d+this.spaceItem)/(this.minItemWidth+this.spaceItem)));d=(d-this.spaceItem*(c-1))/c;var f=Math.ceil((a+1)/c)-1,h=(a-f*c)*(d+this.spaceItem);f*=d*this.itemRation+this.spaceItem;(b||0===b)&&a-b>c-(b-(Math.ceil((b+1)/c)-1)*c)-1&&(f+=this.spaceViewHeight+this.spaceItem);return new p(h,f,d,d*this.itemRation)},arangeItems:function(){for(var a=0;a<this.itemsArr.length;a++){var b=this.itemsArr[a];
b.transforAnimation=this._animation;b.frame=this.frameForItemByIndex(a,this._activeIndex)}},activIndex:function(a,b){this._animation=b;this._activeIndex=this._activeIndex==a?void 0:a;this.arangeItems()},get height(){var a=0;if(this.itemsArr&&0<this.itemsArr.length){var b=this.frameForItemByIndex(this.itemsArr.length-1,this._activeIndex);a=b.y+b.height;(this._activeIndex||0===this._activeIndex)&&this.frameForItemByIndex(this._activeIndex,this._activeIndex).y==b.y&&(a+=this.spaceViewHeight)}return a},
resizeForNewSize:function(a,b){this._animation=!1;this.inBoxSize=a;this.minItemWidth=b;this.arangeItems()}};ca.prototype={loadingStatusHandler:function(a){"termsController"==a.params.target&&this.showPreloader(!0)},appHandler:function(a){var b=this;this.showPreloader(!1);setTimeout(function(){b.createSplashView()},400)},showPreloader:function(a){if(a)0<this.view.getElementsByClassName("fla_AlbumsSwitcher_Preloader").length||(a=O(f(c(this.appName).activColor,.7)),this.view.appendChild(a));else if(this.view.getElementsByClassName("fla_AlbumsSwitcher_Preloader")[0]){var b=
this;P(this.view.getElementsByClassName("fla_AlbumsSwitcher_Preloader")[0],function(){b.view.removeChild(b.view.getElementsByClassName("fla_AlbumsSwitcher_Preloader")[0])},500)}},createSplashView:function(){function a(a){var g=b[a].itemsList;if(g&&0<g.length)for(var f=0;f<g.length;f++){var h=a+"_"+f,k=new aa(g[f]);k.view.id=h;e.push(k)}c(d.appName).key||c(d.appName).tv.cloneNode(!0)}var b=this.delegate.terms;if(b){var d=this,e=[],k;for(k in b)a(k);for(k=0;k<e.length;k++){var h=e[k];h.view.setAttribute("termIndex",
k);h.view.style.backgroundColor=f(c(this.appName).activColor,1);h.view.addEventListener("click",function(a){d.showTermsCollectioHandler(a)});this.view.appendChild(h.view);h.showWithDelay(50*k)}this.grid=new ba(e,new l(this.view.clientWidth,0),c(this.appName).columns,c(this.appName).thumbRecomendedSize,c(this.appName).coverThumbRatio,c(this.appName).spaceX,c(this.appName).termCollectionViewHeight);this.grid.arangeItems(void 0,!1);this.view.style.height=this.grid.height+"px"}},showTermsCollectioHandler:function(a){a=
a.currentTarget;var b=parseInt(a.getAttribute("termIndex")),d=a.id.split("_"),c=this.grid.frameForItemByIndex(b,void 0),f=c.x+c.width/2,h=document.body.getBoundingClientRect();h=this.view.getBoundingClientRect().top+c.y+(m()?c.height:0)-h.top;this.grid.activIndex(b,!0);this.view.style.height=this.grid.height+"px";this.activTermCover&&this.activTermCover.classList.remove("fla_AlbumsSwitcher_CoverSelect");this.activTermCover&&parseInt(this.activTermCover.getAttribute("termIndex"))==b?(this.activTermCover=
void 0,this.collection&&this.collection.removeFromStage()):(a.classList.add("fla_AlbumsSwitcher_CoverSelect"),this.activTermCover=a,this.collection||(this.collection=new Z(this.delegate),this.view.appendChild(this.collection.view)),this.collection.moveToPosition(new B(0,c.y+c.height+3),f),this.collection.pushPage(this.delegate.terms[d[0]].itemsList[d[1]]),J||Q(h,.5))},resizeHandler:function(){if(this.view.clientWidth!=this.viewWidth&&(this.viewWidth=this.view.clientWidth,this.grid&&(this.grid.resizeForNewSize(new l(this.viewWidth,
0),Math.min(c(this.appName).thumbRecomendedSize,this.viewWidth)),this.view.style.height=this.grid.height+"px"),this.collection&&this.activTermCover)){var a=parseInt(this.activTermCover.getAttribute("termIndex"));a=this.grid.frameForItemByIndex(a,void 0);var b=a.x+a.width/2;this.collection.moveToPosition(new B(0,a.y+a.height+3),b,!0);m()&&(b=document.body.getBoundingClientRect(),a=this.view.getBoundingClientRect().top+a.y+a.height-b.top,J||Q(a,.5))}}};K.prototype={get meta(){var a={};a.data=this.meta_data;
a.mime=this.meta_data.webview.mime;a.likes=this.total_votes;a.views=this.hitcounter;a.original={};a.original.width=this.meta_data.width;a.original.height=this.meta_data.height;a.original.link=this.galleryURL+"/"+this.filename;a.thumb={};a.thumb.width=this.meta_data.thumbnail.width;a.thumb.height=this.meta_data.thumbnail.height;a.thumb.link=this.galleryURL+"/thumbs/thumbs_"+this.filename;a.web={};a.web.width=this.meta_data.webview["0"];a.web.height=this.meta_data.webview["1"];a.web.link=this.galleryURL+
"/webview/"+this.filename;return a},get mime_type(){return this.meta.mime},get sharelink(){return this.galleryURL+"/"+this.filename},get url(){return this.galleryURL+"/"+this.filename},hasTag:function(a){if("all"==a)return!0;if(!this.tags||0==this.tags.length)return!1;for(var b=0;b<this.tags.length;b++)if(this.tags[b].term_id==a)return!0},get itemViewSrc(){return this.meta?this.meta.web?this.meta.web.link:this.meta.original?this.meta.original.link:null:null},get itemViewThumbSrc(){return this.meta?
this.meta.thumb?this.meta.thumb.link:this.meta.web?this.meta.web.link:null:null},get itemViewSize(){return this.meta?this.meta.web?new l(this.meta.web.width,this.meta.web.height):this.meta.original?new l(this.meta.original.width,this.meta.original.height):new l(300,300):new l(300,300)},get itemViewThumbSize(){return this.meta?this.meta.thumb?new l(this.meta.thumb.width,this.meta.thumb.height):this.meta.web?new l(this.meta.web.width,this.meta.web.height):new l(300,300):new l(300,300)}};da.prototype=
{get count(){return this.itemsList.length},get description(){if(this.gallery.galdesc)return this.gallery.galdesc},get name(){if(this.gallery.title)return this.gallery.title},get term_id(){if(this.gallery.gid)return this.gallery.gid},get sharelink(){if(c(this.appName).post_url)return c(this.appName).post_url},get thumbnail(){if(0<this.itemsList.length)return this.itemsList[0].itemViewSrc}};ea.prototype={get cover(){return this._cover?this._cover:null}};fa.prototype={termsLoaded:function(a){if(this.data&&
0<this.data.length){a=this.data;this.terms.albums={};this.terms.albums.itemsList=[];for(var b=0;b<a.length;b++){var c=new da(a[b],null,this.appName);c.listIndex=b;this.terms.albums.itemsList.push(c)}E.dispatchGMEvent(new ha(F.termsLoadingComplete,this,{target:"termsController"}))}},getCollectionForTerm:function(a){var b=void 0;switch(a.taxonomy){case "gmedia_album":b="album__in";break;case "gmedia_category":b="category__in";break;case "gmedia_tag":b="tag__in"}if(b){var d={per_page:c(this.appName).pagination?
c(this.appName).imagesPperPage:0,admin:!1,page:1};d[b]=[a.term_id];b=JSON.stringify({library:d});I(b,this,"initCollectionDataForTerm",{term:a})}},actionHandlerForTermByIndex:function(a,b){var c=a.itemsList[b];"audio"==z(c.mime_type)&&this.audioPlayer&&!this.audioPlayer.paused&&this.audioPlayer.src==c.url?this.audioPlayer.pause():c.link&&""!=c.link?window.open(c.link,"_blank"):this.initSliderForTermFromIndex(a,b)},initSliderForTermFromIndex:function(a,b){this.slider&&this.removeSlider();this.slider=
new V(this,a,b);this.sliderTerm=a},removeSlider:function(){this.slider&&(this.slider=void 0)},itemsCountersUpdate:function(){if(this.viewsSet){var a=[];for(key in this.viewsSet)a.push(key);0<a.length&&I("flagallery_update_counters",{likes:[],views:a},this,"itemsCountersUpdateHandler")}},itemsCountersUpdateHandler:function(a){JSON.parse(a);this.viewsSet={}},set viewItem(a){this.sliderTerm&&this.sliderTerm.itemsList[a]&&(this.viewsSet[this.sliderTerm.itemsList[a].ID]="view",this.lastViewedItemIndex=
a)},windowResizeHandler:function(a){this.mainViewController&&"function"==typeof this.mainViewController.resizeHandler&&this.mainViewController.resizeHandler();this.slider&&this.slider.resizeHandler()},createAudioPlayer:function(){var a=this;var b=document.getElementById("flaAudioPlayer")?document.getElementById("flaAudioPlayer"):new Audio;if(null!=b&&b.canPlayType&&b.canPlayType("audio/mpeg")){var c=function(b){a.slider&&a.slider.audioPlayerHandler(b)};b.id="flaAudioPlayer";b.setAttribute("type",
"audio/mpeg");b.setAttribute("codecs","mp3");this.audioPlayer=b;this.appDiv.appendChild(this.audioPlayer);b.addEventListener("ended",c,!1);b.addEventListener("pause",c,!1);b.addEventListener("play",c,!1);b.addEventListener("durationchange",c,!1)}}};(function(){window.addEventListener("load",function(){var a=function(b){window.removeEventListener("mousedown",a,!1);window.removeEventListener("touchstart",a,!1);"touchstart"==b.type?(b.stopPropagation(),r=!1):r=!0};window.addEventListener("mousedown",
a,!1);window.addEventListener("touchstart",a,!1);for(var b=document.body.getElementsByClassName("albumsswitcher_skin"),c=0;c<b.length;c++){var e=b[c].getAttribute("app-id"),f=this[e];f=new fa(f,e,b[c].parentElement);window[e]=f}})})()}fla_albumsSwitcher_module();
